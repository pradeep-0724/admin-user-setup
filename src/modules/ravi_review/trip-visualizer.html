<div class="input-container">
  <input [(ngModel)]="newFrom" placeholder="Start Point" />
  <input [(ngModel)]="newTo" placeholder="End Point" />
  <button (click)="addTrip()">Add Trip</button>
</div>

<svg width="1200" height="400">
  <!-- Arrowhead definition -->
  <defs>
    <marker
      id="arrow"
      markerWidth="10"
      markerHeight="10"
      refX="10"
      refY="5"
      orient="auto"
      markerUnits="strokeWidth"
    >
      <path d="M 0 0 L 10 5 L 0 10 z" fill="#999" />
    </marker>
  </defs>

  <!-- Trip paths -->
  <ng-container *ngFor="let trip of trips">
    <path
      [attr.d]="trip.path"
      [attr.stroke]="trip.color"
      stroke-width="2"
      fill="none"
      [attr.marker-end]="trip.showArrow ? 'url(#arrow)' : null"
    ></path>

    <!-- End point dot -->
    <circle
      [attr.cx]="trip.x2"
      [attr.cy]="trip.y2"
      r="4"
      [attr.fill]="trip.color"
      [attr.stroke]="trip.showArrow ? '#999' : trip.color"
      stroke-width="1"
    ></circle>

    <!-- Trip label -->
    <text
      [attr.x]="trip.labelX"
      [attr.y]="trip.labelY"
      font-size="12"
      font-weight="bold"
      [attr.fill]="trip.color"
      text-anchor="middle"
    >
      {{ trip.from }} - {{ trip.to }}
    </text>
  </ng-container>
</svg>
