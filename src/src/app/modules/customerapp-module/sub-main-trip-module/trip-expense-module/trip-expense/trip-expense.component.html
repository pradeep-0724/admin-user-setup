<div class="right-section__header">
  <h1 *ngIf="!tripExpenseId" class="heading"> Add Job Expense</h1>
  <h1 *ngIf="tripExpenseId" class="heading"> Edit Job Expense</h1>
  <button class="gb-video-play float-right" (click)="openGothrough()">
    <i class="bi bi-play-circle-fill"></i>
  </button>
</div>
<form [formGroup]="tripExpenseForm" *ngIf="tripExpenseForm">
  <div class="alert-msg" *ngIf="apiError">
    <span class="icon-wrap"></span>
    <p class="message-cont">{{ apiError }}</p>
  </div>
  <div class="error-msg-list" *ngIf="globalFormErrorList.length > 0">
    <p class="message-head">{{ errorHeaderMessage }}</p>
    <span class="icon-wrap"></span>
    <ul *ngFor="let error of globalFormErrorList">
      <li class="message-cont">{{ error }}</li>
    </ul>
  </div>
  <div class="form-body shadow-inset-top-lg form-layout form-layout--pd no-br-tl no-br-tr">
    <div class="row">

      <div *ngIf="tripExpenseId" class="col-lg-3 col-sm-6">
        <div class="input-wrap disabled">
          <label for="" class="input--required position-relative">Vendor <span *ngIf="isTdsDecleration"
              class="blueTag">TDS Declaration Received</span></label>
          <div class="input--bd">{{ initialValues.vendor.label }}</div>
          <span *ngIf="gstin" class="font-small-blue"> {{terminology.tax_no_type}}: {{gstin}}</span>
        </div>
      </div>

      <div *ngIf="!tripExpenseId" class="col-lg-3 col-sm-6">
        <div class="input-wrap error change_function" [ngClass]="addErrorClass(tripExpenseForm.controls.vendor)">
          <label for="" class="input--required position-relative">Vendor <span class="blueTag"
              *ngIf="isTdsDecleration">TDS Declaration Received</span> </label>
          <material-dropdown [searchable]="true" [addable]="true" class="dropDownWidth"
            [selectedOption]="initialValues.vendor" [party]="true" (addPartyPopup)="openAddPartyModal($event)"
            (addValueToList)="addValueToPartyPopup($event)" [params]="partyNamePopup" [maxLength]='255'>
            <select #customSelect formControlName="vendor" class="no-style select--modify removeLoader"
              (change)="onVendorSelected($event.target.value)" (change)="stopLoaderClasstoBody()">
              <option *ngFor="let vendor of vendorList" value="{{ vendor.id }}">
                {{ vendor.party_display_name }}</option>
            </select>
          </material-dropdown>
          <span *ngIf="gstin" class="font-small-blue"> {{terminology.tax_no_type}}: {{gstin}}</span>

          <app-error [controlName]="tripExpenseForm.controls.vendor"></app-error>

        </div>
      </div>


      <div class="col-lg-3 col-sm-6">
        <div class="input-wrap">
          <label for="">Employee In Charge</label>
          <material-dropdown [searchable]="true" [addable]="false" [selectedOption]="initialValues.employee"
            class="dropDownWidth" [addBlank]="true">
            <select #customSelect formControlName="employee" class="no-style select--modify"
              (change)='handleEmployeeChange()'>
              <option *ngFor="let employee of employeeList" value="{{ employee.id }}">
                {{ employee.emp_name_id }} </option>
            </select>
          </material-dropdown>
        </div>
      </div>
      <div class="col-lg-3 col-sm-6">
        <div class="input-wrap error" [ngClass]="addErrorClass(tripExpenseForm.controls.bill_number)"
          [class.disabled]="isAmountUsed">
          <label for="" class="input--required">Bill Number</label>
          <input type="text" class="no-style input--bd" placeholder="Eg.:1234567" value=""
            formControlName="bill_number">
          <span class="border-anim"></span>
          <app-error [controlName]="tripExpenseForm.controls.bill_number"></app-error>
        </div>
      </div>
      <div class="col-lg-3 col-sm-6">
        <div class="input-wrap error" [ngClass]="addErrorClass(tripExpenseForm.controls.bill_date)">
          <label for="" class="input--required">Bill Date</label>
          <mat-form-field>
            <input matInput readonly [matDatepicker]="bill_date" (focus)="bill_date.open()" formControlName="bill_date"
              (dateChange)="onCalendarChangePTerm($event.target.value)" placeholder="DD/MM/YYYY">
            <mat-datepicker-toggle matSuffix [for]="bill_date"></mat-datepicker-toggle>
            <mat-datepicker #bill_date></mat-datepicker>
          </mat-form-field>
          <app-error [controlName]="tripExpenseForm.controls.bill_date"></app-error>
        </div>
      </div>
      <div class="col-lg-3 col-sm-6">
        <div class="input-wrap">
          <label for="" class="input">Payment Term</label>
          <material-dropdown [searchable]="true" [addable]="false" [selectedOption]="initialValues.paymentTerm"
            class="dropDownWidth" [selectedOption]="initialValues.paymentTerm" [addBlank]="true">
            <select #customSelect formControlName="payment_term" class="no-style select--modify"
              (change)="onpaymentTermSelected($event.target.value)">
              <option *ngFor="let option of staticOptions.paymentTermList" value="{{ option.id }}">
                {{ option.label }}</option>
            </select>
          </material-dropdown>
        </div>
      </div>
      <div class="col-lg-3 col-sm-6">
        <div class="input-wrap error" [ngClass]="addErrorClass(tripExpenseForm.controls.due_date)">
          <label for="" class="input--required">Due Date</label>
          <mat-form-field>
            <input matInput [min]="minDate" readonly [matDatepicker]="due_date" (focus)="due_date.open()"
              (dateChange)="dueDateChange()" formControlName="due_date" placeholder="DD/MM/YYYY">
            <mat-datepicker-toggle matSuffix [for]="due_date"></mat-datepicker-toggle>
            <mat-datepicker #due_date></mat-datepicker>
          </mat-form-field>
          <app-error [controlName]="tripExpenseForm.controls.due_date"></app-error>
        </div>
      </div>
    </div>
    <app-tax-inclusive [taxInclusiveForm]="tripExpenseForm"  [editData]="editData" [partyDetails]="partyTaxDetails" [ngClass]="{'hiddenContent':!isTax}"
    (taxInclusiveFormValueChange)="headerTaxDetails($event)"
    [isValidForm]="taxFormValid">
    </app-tax-inclusive>
    <div>
      <div class="form-layout__card mg-top-30 w-100">
        <ng-container *ngIf="doChallanExists">
          <div class="form-layout__header">
            <h2 class="sub-heading"> Description</h2>
            <span class="collapse-line"></span>
          </div>
        </ng-container>

        <div class="mg-top-30" *ngIf="tripChallansList.length > 0">
          <div
            class="table-wrapper table-wrapper--type1 table-wrapper--type2 table--bd table--nobg overflow-unset dropDownOverflow">
            <table class="table-container">
              <thead>
                <tr class="desktop_th">
                  <th width=10%>Date</th>
                  <th width=10%>Vehicle No.</th>
                  <th width=10%>Expense type</th>
                  <th width=10%>Amount ({{currency_type.symbol}})</th>
                  <th width=10%>Adjustments ({{currency_type.symbol}})</th>
                  <th width=10% [ngClass]="{'hiddenContent':!isTax}">Tax</th>
                  <th width=10%>Net Amount ({{currency_type.symbol}})</th>
                </tr>
              </thead>
              <tbody formArrayName="expenses">
                <tr class="mobile-flex icon-14"
                  *ngFor="let challan of tripExpenseForm.get('expenses').controls;let i_trip = index;"
                  [formGroupName]="i_trip">
                  <td class="max-wd120 pt-0">
                    <h5 class="th_h5_mobile">Date</h5>
                    <div class="filledData"> {{ challan?.value?.date |formateDate}}</div>
                  </td>
                  <td class="max-wd120 pt-0">
                    <h5 class="th_h5_mobile">Vehicle No.</h5>
                    <div class="filledData">{{ challan.value?.vehicle }}</div>
                  </td>
                  <td class="max-wd120 pt-0">
                    <h5 class="th_h5_mobile">Expense type</h5>
                    <div class="filledData">{{ challan.value?.expense_type }}</div>
                  </td>
                  <td class="max-wd120 pt-0">
                    <h5 class="th_h5_mobile">Amount</h5>
                    <div class="editData border-0">
                      <input positiveThreeDigitDecimalNumber type="text" placeholder="1000" formControlName="expense_amount_before_tax"
                        class="error-box" (change)="onCalcuationsChanged()">
                    </div>
                  </td>

                  <td class="max-wd120 pt-0">
                    <h5 class="th_h5_mobile">Adjustments</h5>
                    <div class="input-wrap"
                      [ngClass]="addErrorClass(tripExpenseForm.controls['expenses'].controls[i_trip].controls.adjustment)">
                      <input positiveThreeDigitDecimalNumber type="text" placeholder="1000" formControlName="adjustment"
                        class="error-box" (change)="onCalcuationsChanged()">
                    </div>
                  </td>

                  <td class="max-wd120 pt-0" [ngClass]="{'hiddenContent':!isTax}">
                 
                    <div    [ngClass]="{disable: disableTax || !companyRegistered}">
                      <h5 class="th_h5_mobile" style="margin-bottom: 5px">Tax</h5>
                      <div class="select-wrap editData border-0 p-1 m-0"
                        [ngClass]="addErrorClass(tripExpenseForm.controls['expenses'].controls[i_trip].controls.tax)">
                        <material-dropdown [searchable]="true" [disabled]="disableTax || !companyRegistered" [addable]="false" class="dropDownWidth" [addBlank]="false"
                          [selectedOption]="initialValues.tripChallanTax[i_trip]">
                          
                          <select #customSelect name="" class="no-style select--modify error-box" formControlName="tax"
                            (change)="onCalcuationsChanged();">
                            <option *ngFor="let option of taxOptions" value="{{ option.id }}">{{
                              option.label }}</option>
                          </select>
                        </material-dropdown>
                        <app-error [controlName]="tripExpenseForm.controls['expenses'].controls[i_trip].controls.tax">
                        </app-error>
                      </div>
                    </div>
                  </td>

                  <td class="max-wd120 align-middle pt-0">
                    <h5 class="th_h5_mobile">Net Amount</h5>
                    <div class="filledData ">
                      {{ tripExpenseForm.controls['expenses'].controls[i_trip].controls.expense_amount.value }} </div>
                  </td>
                </tr>
              </tbody>
            </table>
          </div>
        </div>
        <div>
          <app-trip-expense-challan [alreadySelectedTripChallans]="tripChallansList"
            [inlineAdd]="tripChallanModelInline" [isAdd]="isTripAdd"
            (onAddChallanClicked)="tripChallansSelected($event)"
            (checkChallanExist)="checkChallanExist($event)"></app-trip-expense-challan>
        </div>
      </div>
    </div>
    <div class="form-layout__card mg-top-30 formResponsiveTable">
      <div class="form-layout__header">
        <h2 class="sub-heading">Item Others</h2>
        <span class="collapse-line"></span>
      </div>
      <div class="mg-top-30">
        <div class="table-wrapper table-wrapper--type1 table-wrapper--type2  table--bd table--nobg dropDownOverflow">
          <table class="table-container">
            <thead>
              <tr class="desktop_th">
                <th width=15%>Item</th>
                <th width=15%>Expense Account</th>
                <th width=13%>Quantity</th>
                <th width=7%>Unit</th>
                <th width=9%>Unit Cost ({{ currency_type?.symbol}})</th>
                <th width=7% [ngClass]="{'hiddenContent':!isTax}">Amount ({{ currency_type?.symbol}})</th>
                <th width=7% [ngClass]="{'hiddenContent':!isTax}">Tax</th>
                <th width=11%>Total ({{ currency_type?.symbol}})</th>
                <th width=9%></th>
              </tr>
            </thead>
            <tbody formArrayName="other_expenses">
              <tr class="mobile-flex"
                *ngFor="let otherItem of tripExpenseForm.controls.other_expenses.controls; let i = index;"
                [formGroupName]="i">
                <td>
                  <h5 class="th_h5_mobile">Item </h5>
                  <div>
                    <material-dropdown [searchable]="true" [addable]="true" class="dropDownWidth" [addBlank]="false"
                    [addErrorClass]="addErrorClass(otherItem.controls.item)" [maxLength]="20"
                      [selectedOption]="initialValues?.item[i]" [addNewOptions]="true"
                      (addNewOption)="addNewAdditionalCharge($event,i)">
                      <select #customSelect formControlName="item" class="no-style select--modify"(change)="onMaterialSelected(otherItem, i)">
                        <option *ngFor="let option of staticOptions.materialList" value="{{ option?.id }}">
                          {{ option.name }}
                        </option>
                      </select>
                    </material-dropdown>
                  </div>
                </td>
                <td class="w-150">
                  <h5 class="th_h5_mobile">Expense Account </h5>
                  <div class="select-wrap w-initial">
                    <material-dropdown [searchable]="true" [addable]="true" class="dropDownWidth"
                      [chartOfAccount]="true" (addChartOfAccount)="openAddCoaModal($event, i)" [params]="coaParams"
                      (addValueToList)="addParamsCoaItem($event)"
                      [addErrorClass]="addErrorClass(otherItem.controls.expense_account)"
                      [selectedOption]="initialValues.expenseAccount[i]">
                      <select #customSelect formControlName="expense_account" class="no-style select--modify">
                        <option *ngFor="let account of accountList" value="{{ account.id }}">
                          {{ account.name }}</option>
                      </select>
                    </material-dropdown>
                  </div>
                </td>
                <td>
                  <h5 class="th_h5_mobile">Quantity </h5>
                  <div class="input-wrap" [ngClass]="addErrorClass(otherItem.controls.quantity)">
                    <input positiveThreeDigitDecimalNumber type="text" class="error-box" placeholder="Eg.: 1234567"
                      formControlName="quantity" (change)="calculateItemOthersAmount(i)">
                  </div>

                </td>
                <td>
                  <h5 class="th_h5_mobile">Unit </h5>
                  <div class="select-wrap">
                    <material-dropdown [searchable]="true" [addable]="false" [addBlank]="true" class="dropDownWidth"
                      [selectedOption]="initialValues.units[i]"
                      [addErrorClass]="addErrorClass(otherItem.controls.unit)">
                      <select #customSelect formControlName="unit" class="no-style select--modify">
                        <option *ngFor="let option of staticOptions.itemUnits" value="{{ option.id }}">
                          {{ option.label }}
                        </option>
                      </select>
                    </material-dropdown>
                  </div>
                </td>
                <td>
                  <h5 class="th_h5_mobile"> Unit Cost ({{ currency_type?.symbol}}) </h5>
                  <div class="input-wrap" [ngClass]="addErrorClass(otherItem.controls.unit_cost)">
                    <input positiveThreeDigitDecimalNumber type="text" class="error-box" placeholder="1000"
                      formControlName="unit_cost" (change)="calculateItemOthersAmount(i)">
                  </div>

                </td>
                <td [ngClass]="{'hiddenContent':!isTax}">
                  <h5 class="th_h5_mobile">Amount ({{ currency_type?.symbol}}) </h5>
                  <div class="input-wrap" [ngClass]="addErrorClass(otherItem.controls.total_before_tax)">
                    <input positiveThreeDigitDecimalNumber type="text" class="error-box" placeholder="1000" readonly
                      formControlName="total_before_tax" (change)="calculateItemOther(i)">
                  </div>
                </td>
                <td [ngClass]="{'hiddenContent':!isTax}">
                  <h5 class="th_h5_mobile">Tax </h5>
                  <div [ngClass]="{disabled: disableTax || !companyRegistered}">
                    <div class="select-wrap"
                      [ngClass]="addErrorClass(tripExpenseForm.controls['other_expenses'].controls[i].controls.tax)">
                      <material-dropdown [searchable]="true" [addable]="false"
                        [selectedOption]="initialValues.taxPercent[i]" class="dropDownWidth"
                        [disabled]="disableTax || !companyRegistered">
                        <select #customSelect formControlName="tax" class="no-style select--modify"
                          (change)="onCalcuationsChanged()">
                          <option *ngFor="let option of taxOptions" value="{{ option.id }}">
                            {{ option.label }}
                          </option>
                        </select>
                      </material-dropdown>
                      <app-error [controlName]="tripExpenseForm.controls['other_expenses'].controls[i].controls.tax">
                      </app-error>
                    </div>
                  </div>
                </td>
                <td>
                  <h5 class="th_h5_mobile">Total ({{ currency_type?.symbol}})</h5>
                  <div class="input-wrap disabled">
                    <input type="number" placeholder="1000" formControlName="total" [attr.disabled]="true">
                  </div>
                </td>
                <td class="text-center mobile-remove-add-position">
                  <span class="material-icons clear" (click)="resetOtherItem(otherItem, i)">remove_circle_outline</span>
                  <span class="material-icons delete" (click)="removeOtherItem(i)"
                    *ngIf="tripExpenseForm.controls.other_expenses.controls.length !== 1">add_circle_outline</span>
                  <span class="material-icons add" (click)="addMoreOtherItem()">add_circle_outline</span>
                </td>
              </tr>
            </tbody>
          </table>
        </div>
        <div class="table-footer-actions mg-top-20">
          <a class="clear-item" (click)="clearAllOtherItems()">Remove all</a>
        </div>
      </div>
    </div>

    <div class="gst-table-wrapper mg-top-30">

      <div class="gst-main">
        <div class="text-end fw-bold gst-left"> Subtotal: </div>
        <div class="px-0  text-end fw-bold gst-right">{{ currency_type?.symbol}} {{ newMechanicTotals.subtotal | numberFormat }}</div>
      </div>

      <div class="gst-main" [ngStyle]="{ 'display': 'none'  }">
        <div class="text-end pt-0 gst-left">
          <span> Discount</span>
          <div class="input" [ngClass]="addErrorClass(tripExpenseForm.controls.discount)">
            <input positiveThreeDigitDecimalNumber type="text" class="error-box" placeholder="0.00"
              formControlName="discount" (change)="onCalcuationsChanged()">
          </div>
          <div class="select-wrap dropdown">
            <select name="" class="no-style select--modify custom-select" formControlName="discount_type"
              (change)="onCalcuationsChanged()">
              <option value="0">%</option>
              <option value="1">{{ currency_type?.symbol}}</option>
            </select>
          </div>
        </div>
        <div class="px-0  text-end gst-right"> {{ currency_type?.symbol}} {{ newMechanicTotals.discountTotal | numberFormat}} </div>
      </div>
      <div class="gst-main" [ngClass]="{'hiddenContent':!isTax}"
        *ngFor="let percentageTotal of newMechanicTotals.taxes;">
        <ng-container *ngIf="percentageTotal.total && percentageTotal.taxAmount >0">
          <div class="text-end gst-left">
            Include {{terminology.tax_type}} &#64; {{ percentageTotal.value }}% on
            <span>{{ percentageTotal.total| numberFormat }} </span>
          </div>
          <div class="px-0 text-end gst-right">{{ currency_type?.symbol}} {{ percentageTotal.taxAmount | numberFormat}}</div>
        </ng-container>
      </div>
      <div class="gst-main" [ngClass]="{'hiddenContent':!isTax}">
        <div class="gst-left text-end pt-0">
          <span>Discount after Tax </span>
          <div class="input" [ngClass]="addErrorClass(tripExpenseForm.controls.discount_after_tax)"
            [class.disabled]="disableTax || !companyRegistered">
            <input positiveThreeDigitDecimalNumber type="text" class="error-box" placeholder="0.00"
              formControlName="discount_after_tax" [attr.disabled]="disableTax || !companyRegistered ? '': null"
              (change)="onCalcuationsChanged()">
          </div>
          <div class="select-wrap dropdown">
            <select name="" class="no-style select--modify custom-select" formControlName="discount_after_tax_type"
              (change)="onCalcuationsChanged()">
              <option value="0">%</option>
              <option value="1">{{ currency_type?.symbol}}</option>
            </select>
          </div>

        </div>
        <div class="px-0 gst-right text-end">{{ currency_type?.symbol}} {{ newMechanicTotals.discountAfterTaxTotal| numberFormat }}
        </div>
      </div>
      <div class="gst-main">
        <div class="text-start pt-0 gst-left">

          <div class="dropdown select-wrap">
            <material-dropdown [selectedOption]="initialValues.adjustmentAccount">
              <select #customSelect formControlName="adjustment_account" class="no-style select--modify">
                <option *ngFor="let option of expenseAccountList" value="{{ option.id }}">
                  {{ option.name }}
                </option>
              </select>
            </material-dropdown>
          </div>

          <div class="input" [ngClass]="addErrorClass(tripExpenseForm.controls.adjustment)">
            <input positiveThreeDigitDecimalNumber type="text" class="error-box" placeholder="0.00"
              formControlName="adjustment" (change)="onCalcuationsChanged()">
          </div>
          <div class="select-wrap dropdown">
            <select name="" class="no-style select--modify custom-select" formControlName="adjustment_choice"
              (change)="onCalcuationsChanged()">
              <option value="0">%</option>
              <option value="1">{{ currency_type?.symbol}}</option>
            </select>
          </div>
        </div>

        <div class="px-0  text-end gst-right"> {{ currency_type?.symbol}} {{ newMechanicTotals.adjustmentAmount| numberFormat }}
        </div>
      </div>
      <div class="text-end gst-main">
        <div class="text-end h5"> <strong> Total </strong></div>
        <div class="px-0 text-end ms-3 h5"><strong> {{ currency_type?.symbol}} {{ newMechanicTotals.total| numberFormat }} </strong>
        </div>
      </div>
      <div class="gst-main" [ngClass]="{'hiddenContent':!isTax||isTds}">
        <div class="text-end pt-0 gst-left"> <app-last-section-inputfield-box
            [lastSectionTaxDetails]="lastSectionTaxDetails" [lastSectionEditData]="lastSectionEditData"
            (lastSectionOutPut)="lastSectionOutPut($event)"></app-last-section-inputfield-box>
        </div>
        <div class="px-0 gst-right text-end"> {{ currency_type?.symbol}} {{ newMechanicTotals.tdsAmount| numberFormat }}</div>
      </div>


      <div class="text-end gst-main">
        <div class="text-end h5"><strong> Balance </strong></div>
        <div class="px-0 text-end ms-3 h5"> <strong>{{ currency_type?.symbol}} {{ newMechanicTotals.balance | numberFormat}} </strong>
        </div>
      </div>

    </div>

    <hr>
    <app-payment-status [vendorId]="tripExpenseForm.get('vendor').value" [balanceAmount]="newMechanicTotals.balance"
      [billDate]="tripExpenseForm.get('bill_date').value" [vendorList]="vendorList"
      [$paymentStatusValid]="$paymentStatusValid" [editPayemntStatusData]="mechanicActivityData"
      (paymentStatusData)="paymentStatusData($event)" [is_account]="'True'" [is_tenant]="'False'">

    </app-payment-status>

    <div class="col-sm-12">
      <div class="row">
        <div class="col-sm-6">
          <div class="row">
            <div class="col-sm-8">
              <div class="input-wrap mb-0 pb-3">
                <label for="">Remind Date</label>
                <mat-form-field>
                  <input matInput [matDatepicker]="reminder" formControlName="reminder" (focus)="reminder.open()"
                    placeholder="DD/MM/YYYY">
                  <mat-datepicker-toggle matSuffix [for]="reminder"></mat-datepicker-toggle>
                  <mat-datepicker #reminder></mat-datepicker>
                </mat-form-field>
                <span class="error-message">Error messge!</span>
              </div>
            </div>
          </div>
        </div>
        <div class="col-sm-6">
          <div class="input-wrap mb-0 pb-3">
            <label for="" class="">Optional Comment</label>
            <input type="text" class="no-style input--bd" placeholder="Comments" formControlName="comments">
          </div>
        </div>
      </div>
    </div>
    <div class="form-layout__card mg-top-30">
      <file-uploader (onFileUploaded)="fileUploader($event)" (onFileDeleted)="fileDeleted($event)" [multiple]="true"
        [accept]="'capture=camera, image/jpeg,image/x-jpg,image/png, application/pdf'" [showFileName]="false"
        [patchFileUrls]="patchFileUrls">
      </file-uploader>
    </div>
  </div>

</form>
<div class="footer-bg p-2 px-4 custom-footer-bg d-flex justify-content-end">

  <button class="btn me-2 btn--sm" [routerLink]="[prefixUrl+'/trip/trip-expense/list']"
    routerLinkActive="active">Cancel</button>
  <button class="btn btn--primary" (click)="saveExpense()">{{tripExpenseId?'Update':'Save'}} Expense</button>

</div>
<add-new-coa [popDetail]="showAddCoaPopup" [isExpenseType]="true" (closeModal)="closeCoaPopup"
  (coaAdded)="addExpenseToOption($event)">
</add-new-coa>

<!-- Popup for adding party details -->
<app-add-party-popup [popDetail]="showAddPartyPopup" (closeModal)="closePartyPopup()"
  (partyAdded)="addPartyToOption($event)" [isVendor]="true"></app-add-party-popup>
<!-- Popup for adding party details -->

<!-- video-popup -->
<app-go-through [goThroughDetais]="goThroughDetais"></app-go-through>