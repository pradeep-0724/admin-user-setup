
  <div>
    <app-trip-details-header-section  [tripPartyTransactionData]="tripPartyTransactionData" [bdpMileStone]="bdpMileStone"  [tripStatusAndSummaryData]="tripStatusAndSummaryData" [headerDetailsDataSub]="headerDetails" [isTripStarted]="isTripStarted" [isTripComplete]="isTripComplete" [tripId]="tripId"></app-trip-details-header-section>
    <app-trip-details-status-section *ngIf="vehicleCatagory==0 || vehicleCatagory==4 || vehicleCatagory==10" [headerDetailsDataSub]="headerDetails" [bdpMileStone]="bdpMileStone" [tripStatusAndSummaryData]="tripStatusAndSummaryData"></app-trip-details-status-section>
    <app-trip-details-add-section [isDriverAdded]="isDriverAdded" [isTransporter]="isTransporter" [headerDetailsDataSub]="headerDetails" [tripStatusAndSummaryData]="tripStatusAndSummaryData"  [tripStartDate]="tripStartDate"></app-trip-details-add-section>
    <div class="gb-tab-wrapper" style="min-height: 350px;" >
      <mat-tab-group mat-stretch-tabs="false" class="mat-group" animationDuration="0ms" mat-align-tabs="start">
        <mat-tab *ngIf="vehicleCatagory==4 ">
          <ng-template mat-tab-label> 
            <span>Container Info</span>
          </ng-template>
          <app-trip-container-add-edit [headerDetails]="headerDetails" [routeUpdated]="routeUpdated" [jobId]="tripId"></app-trip-container-add-edit>
        </mat-tab>
        <mat-tab *ngIf="vehicleCatagory==0 || vehicleCatagory==4 || vehicleCatagory==10 ">
          <ng-template mat-tab-label> 
            <span>Summary</span>
          </ng-template>
          <app-trip-details-summary-section [headerDetailsDataSub]="headerDetails" [tripStatusAndSummaryData]="tripStatusAndSummaryData"></app-trip-details-summary-section>
         </mat-tab>
         <mat-tab *ngIf="vehicleCatagory==1 || vehicleCatagory==2">
          <ng-template mat-tab-label> 
            <span>Timesheet</span>
          </ng-template>
          <app-trip-details-time-sheet-section [tripPartyTransactionData]="tripPartyTransactionData" (displayCommissionPopup)="displayCommissionPopup($event)"  [headerDetailsDataSub]="headerDetails"  [tripStartDate]="tripStartDate" [isAllDisabled]="isAllDisabled" (approvalTime)="approvalTime($event)" (showDocuments)="showDocuments($event)" [tripId]="tripId" [tripTimeSheets]="tripTimeSheets"></app-trip-details-time-sheet-section>
         </mat-tab>
         <mat-tab *ngIf="vehicleCatagory==1 || vehicleCatagory==2">
          <ng-template mat-tab-label> 
            <span>Location Details</span>
          </ng-template>
           <app-location-details-crane [tripStatusAndSummaryData]="tripStatusAndSummaryData"></app-location-details-crane>
         </mat-tab>
       
        <mat-tab *ngIf="vehicleCatagory!=-1">
          <ng-template mat-tab-label>
            <span>Job P/L</span>
          </ng-template>
          <app-trip-details-profit-loss-section   [tripTimeSheets]="tripTimeSheets" [tripStatusAndSummaryData]="tripStatusAndSummaryData" [headerDetailsDataSub]="headerDetails" [isDriverAdded]="isDriverAdded"  [isTransporter]="isTransporter" [tripId]="tripId" [tripStartDate]="tripStartDate" [profitLossDataObj]="profitLossData" (showDocuments)="showDocumentsWithName($event)"></app-trip-details-profit-loss-section>
          </mat-tab>
        <mat-tab *ngIf="vehicleCatagory!=-1">
          <ng-template mat-tab-label>
            <span>Party Transactions</span>
          </ng-template>
          <app-trip-details-transaction-section    [tripTimeSheets]="tripTimeSheets" [tripStatusAndSummaryData]="tripStatusAndSummaryData" [headerDetailsDataSub]="headerDetails" [isDriverAdded]="isDriverAdded" [tripId]="tripId" [tripStartDate]="tripStartDate" [tripPartyTransactionData]="tripPartyTransactionData" (showDocuments)="showDocumentsWithName($event)"></app-trip-details-transaction-section>
        </mat-tab>
        <mat-tab *ngIf="vehicleCatagory!=-1">
          <ng-template mat-tab-label>
            <span>Upload Documents</span>
          </ng-template>
          <app-trip-details-trip-documents-section [isDriverApp]="isDriverApp" [tripId]="tripId" ></app-trip-details-trip-documents-section>
        </mat-tab>
        <mat-tab *ngIf="vehicleCatagory==4 && isTokenValid">
          <ng-template mat-tab-label>
            <span>Token and VGM Details</span>
          </ng-template>
          <app-job-token-vgm-management [tripStartDate]="tripStartDate" [tripId]="tripId" [typeOfMovement]="typeOfMovement" [scopeOfWork]="scopeOfWork"  ></app-job-token-vgm-management>
        </mat-tab>
        <mat-tab  *ngIf="mapConfig?.show && mapConfig?.clickable">
          <ng-template mat-tab-label>
            <span>Map</span>
          </ng-template>
          <app-trip-details-map-section [tripId]="tripId"></app-trip-details-map-section>
        </mat-tab>
        <mat-tab *ngIf="vehicleCatagory==0 || vehicleCatagory==4 || vehicleCatagory==10">
          <ng-template mat-tab-label>
            <span>Custom Field</span>
          </ng-template>
          <app-edit-custom-fields [url]="customFieldUrl"></app-edit-custom-fields>
        </mat-tab>
      </mat-tab-group>
    </div>
    <app-approval-timeline [show]="showTimeline" [staticBackdrop]="'timesheet'" (isClose)="onTimelineClose($event)" [timeline]="approvalTimelineData"></app-approval-timeline>
    <app-view-uploaded-document *ngIf="viewUploadedDocs.show" [viewUploadedDocs]="viewUploadedDocs"></app-view-uploaded-document>
    <app-view-uploaded-document  *ngIf="viewUploadedDocsWithName.show" [showDocumentName]="true" [viewUploadedDocs]="viewUploadedDocsWithName"></app-view-uploaded-document>

    <app-trip-details-v2-commission   [staticBackdrop]="'commission'" [openCommssionPopup]="openCommssionPopup"   [tripStartDate]="tripStartDate" [tripId]="tripId" ></app-trip-details-v2-commission>
  </div>

  
 

