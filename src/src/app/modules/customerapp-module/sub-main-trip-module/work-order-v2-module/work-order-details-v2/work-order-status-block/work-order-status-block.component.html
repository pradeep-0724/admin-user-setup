<div class="p-4 shadow-inset-top-bottom approvel-view">
    <!------------- approver action ------------------>
    <div class="row mx-0"  *ngIf="workorderStatusDetails.status_screen_to_show ==='approver_action'">

        <div class="col ps-0 status-icon-wrap d-flex justify-content-end">
            <div class="approve-status-icon" *ngIf="workorderStatusDetails.show_approval_button">
                <img src="../../../../../../../assets/img/icons/approve.svg" alt="">
            </div>
            <div class="approve-status-icon" *ngIf="!workorderStatusDetails.show_approval_button">
                <img src="../../../../../../../assets/img/icons/watch.svg" alt="">
            </div>

        </div>

        <div class="col">
            <div class="row">
                <div class="col-lg-8">
                    <div class="approval-details" *ngIf="workorderStatusDetails.show_approval_button">
                        <div class="header">Waiting for L{{workorderStatusDetails.approver_level}} Approval</div>
                        <p>This Sales Order has been submitted for approval.</p>
                    </div>
                    <div class="approval-details" *ngIf="!workorderStatusDetails.show_approval_button">
                        <div class="header">Waiting for L{{workorderStatusDetails.approver_level}} Approval</div>
                        <p>This Sales Order has been submitted for approval, Youâ€™ll be notified once its approved.</p>
                    </div>
                    <div class="pt-3 ps-0 def-color body">
                        <ng-container   *ngIf="workorderStatusDetails.validations.length>0">
                            <p class="line-height-normal py-2" *ngFor="let item of workorderStatusDetails.validations"><span
                                class="material-icons dot me-2">
                                fiber_manual_record
                            </span><span class="fw-semibold me-2">{{item?.name}} :</span><span>{{item?.message}}</span></p>
                        </ng-container>
                        <ng-container *ngIf="workorderStatusDetails.remarks.length>0">
                            <p class="line-height-normal py-2" *ngFor="let item of workorderStatusDetails.remarks"><span
                                class="material-icons dot me-2">
                                fiber_manual_record
                            </span><span class="fw-semibold me-2">{{item?.name ?item?.name : '-'}} :</span><span>{{item?.message ? item?.message : '-'}}</span></p>
                        </ng-container>
    
                    </div>
    
                </div>
                <div class="col-lg-4">
                    <div   *ngIf="workorderStatusDetails.show_approval_button">
                        <div class="d-flex justify-content-end align-items-center mt-2">
                            <button class="btn btn--primary py-2 w-auto btn--sm"  (click)="openQuotationRejectPopup('Approved',false)">Approve</button>
                            <button class="btn py-2 w-auto ms-3 btn--sm" (click)="openQuotationRejectPopup('Rejected',true)">Reject</button>
                        </div>
                    </div>
                </div>
            </div>
            <div class="row mx-0 mt-3"  >

                <div class="col-lg-8 px-0">
                    <div class="d-flex flex-wrap" >
                        <div class="me-5">
                            <p class="mb-2 fs-12px">Submitted by</p>
                            <div class="d-flex justify-content-center align-items-center">
                                <div class="first-letter blue"> {{ findfingFirstName(workorderStatusDetails.submitter)}}</div>
                                <p class="fw-semibold"> {{workorderStatusDetails.submitter ? workorderStatusDetails.submitter : '-'}}</p>
                            </div>
                        </div>
                        <div class="ps-4">
                            <p class="mb-2 fs-12px">Current Approver</p>
                            <div class="d-flex justify-content-center align-items-center">
                                <div class="first-letter green"> {{ findfingFirstName(workorderStatusDetails.last_action_taken_by)}}</div>
                                <p class="fw-semibold"> {{workorderStatusDetails.last_action_taken_by ? workorderStatusDetails.last_action_taken_by : '-'}}</p>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-lg-4 d-flex justify-content-end align-items-end" *ngIf="workorderStatusDetails.timeline.length >0">
        
                    <button class="fw-semibold primary-brand-text  mt-3 custom-link" (click)="openSideBar()" data-bs-toggle="offcanvas"
                        data-bs-target="#staticBackdrop" aria-controls="staticBackdrop">View Approval Details</button>
        
                </div>
        
            </div>

        </div>

    </div>
   
    <!-------------- approver rejected --------------->
    <div class="row mx-0"  *ngIf="workorderStatusDetails.status_screen_to_show ==='approval_rejected'">

        <div class="col ps-0 status-icon-wrap d-flex justify-content-end">
            <div class="approve-status-icon">
                <img src="../../../../../../../assets/img/icons/rejected.svg" alt="">
            </div>

        </div>

        <div class="col">
            <div class="row">
                <div class="col-lg-8">
                    <div class="approval-details">
                        <div class="header">Sales Order is Rejected</div>
                    </div>
                    <div class="pt-3 def-color body">
                        <ng-container   *ngIf="workorderStatusDetails.validations.length>0">
                            <p class="line-height-normal py-2" *ngFor="let item of workorderStatusDetails.validations"><span
                                class="material-icons dot me-2">
                                fiber_manual_record
                            </span><span class="fw-semibold me-2">{{item?.name}} :</span><span>{{item?.message}}</span></p>
                        </ng-container>
                        <ng-container *ngIf="workorderStatusDetails.remarks.length>0">
                            <p class="line-height-normal py-2" *ngFor="let item of workorderStatusDetails.remarks"><span
                                class="material-icons dot me-2">
                                fiber_manual_record
                            </span><span class="fw-semibold me-2">{{item?.name ?item?.name : '-'}} :</span><span>{{item?.message ? item?.message : '-'}}</span></p>
                        </ng-container>

                    </div>
    
                </div>
                <div class="col-lg-4" >
                    <div class="d-flex justify-content-end align-items-center mt-2"  *ngIf="is_Approval_configured && workorderStatusDetails.show_approval_button">
                        <button class="btn btn--primary py-2 w-auto btn--sm custom-link"  (click)="resendForApproval()">Send for Approval</button>
                    </div>
                    
                </div>
            </div>
            <div class="row mx-0 mt-3"  >

                <div class="col-lg-6 px-0">
                    <div class="d-flex flex-wrap" >
                        <div class="me-5">
                            <p class="mb-2 fs-12px">Submitted by</p>
                            <div class="d-flex justify-content-center align-items-center">
                                <div class="first-letter blue"> {{ findfingFirstName(workorderStatusDetails.submitter)}}</div>
                                <p class="fw-semibold"> {{workorderStatusDetails.submitter ? workorderStatusDetails.submitter : '-'}}</p>
                            </div>
                        </div>
                        <!-- <div class="ps-4">
                            <p class="mb-2 fs-12px">Current Approver</p>
                            <div class="d-flex justify-content-center align-items-center">
                                <div class="first-letter green"> {{ findfingFirstName(workorderStatusDetails.submitter)}}</div>
                                <p class="fw-semibold"> {{workorderStatusDetails.submitter ? findfingFirstName(workorderStatusDetails.submitter) : '-'}}</p>
                            </div>
                        </div> -->
                    </div>
                </div>
                <div class="col-lg-6 d-flex justify-content-end align-items-end"  *ngIf="workorderStatusDetails.timeline.length >0">
        
                    <button class="fw-semibold primary-brand-text  mt-3" (click)="openSideBar()" data-bs-toggle="offcanvas"
                        data-bs-target="#staticBackdrop" aria-controls="staticBackdrop">View Approval Details</button>
        
                </div>
        
            </div>

        </div>

    </div>
    <!-- -------------client approved ----------------->
    <div class="row mx-0"  *ngIf="workorderStatusDetails.status_screen_to_show ==='approved'">

        <div class="col ps-0 status-icon-wrap d-flex justify-content-end">
            <div class="approve-status-icon">
                <img src="../../../../../../../assets/img/icons/green-person.svg" alt="">
            </div>

        </div>

        <div class="col">
            <div class="row">
                <div class="col-lg-8">
                    <div class="approval-details">
                        <div class="header">Approved</div>
                        <p>This sales order has been approved.</p>
                    </div>
                    <div class="pt-3 def-color body">
                        <ng-container   *ngIf="workorderStatusDetails.validations.length>0">
                            <p class="line-height-normal py-2" *ngFor="let item of workorderStatusDetails.validations"><span
                                class="material-icons dot me-2">
                                fiber_manual_record
                            </span><span class="fw-semibold me-2">{{item?.name}} :</span><span>{{item?.message}}</span></p>
                        </ng-container>
                        <ng-container *ngIf="workorderStatusDetails.remarks.length>0">
                            <p class="line-height-normal py-2" *ngFor="let item of workorderStatusDetails.remarks"><span
                                class="material-icons dot me-2">
                                fiber_manual_record
                            </span><span class="fw-semibold me-2">{{item?.name ?item?.name : '-'}} :</span><span>{{item?.message ? item?.message : '-'}}</span></p>
                        </ng-container>

                    </div>
    
                </div>

            </div>
            <div class="row mx-0 mt-3"  >

                <div class="col-lg-6 px-0">
                    <div class="d-flex flex-wrap" >
                        <div class="me-5">
                            <p class="mb-2 fs-12px">Submitted by</p>
                            <div class="d-flex justify-content-center align-items-center">
                                <div class="first-letter blue"> {{ findfingFirstName(workorderStatusDetails.submitter)}}</div>
                                <p class="fw-semibold"> {{workorderStatusDetails.submitter ? workorderStatusDetails.submitter : '-'}}</p>
                            </div>
                        </div>
                        <div class="ps-4">
                            <p class="mb-2 fs-12px">Approved By</p>
                            <div class="d-flex justify-content-center align-items-center">
                                <div class="first-letter green"> {{ findfingFirstName(workorderStatusDetails.last_action_taken_by)}}</div>
                                <p class="fw-semibold"> {{workorderStatusDetails.last_action_taken_by ? workorderStatusDetails.last_action_taken_by : '-'}}</p>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-lg-6 d-flex justify-content-end align-items-end"  *ngIf="workorderStatusDetails.timeline.length>0">
        
                    <button class="fw-semibold primary-brand-text  mt-3" (click)="openSideBar()" data-bs-toggle="offcanvas"
                        data-bs-target="#staticBackdrop" aria-controls="staticBackdrop">View Approval Details</button>
        
                </div>
        
            </div>

        </div>

    </div>

    <!--------------- void state ------------------------>
    
    <div class="row mx-0"  *ngIf="workorderStatusDetails.status_screen_to_show ==='void'">

        <div class="col ps-0 status-icon-wrap d-flex justify-content-end">
            <div class="approve-status-icon" >
                <img src="../../../../../../../assets/img/icons/rejected.svg" alt="">
            </div>
           

        </div>

        <div class="col">
            <div class="row">
                <div class="col-lg-8">
                   
                    <div class="approval-details">
                        <div class="header">Sales Order is Void</div>
                        <!-- <p>This place will show the message is given by approver after void</p> -->
                    </div>
                    
    
                </div>
                
            </div>
            <div class="row mx-0 mt-3" >

                <div class="col-lg-6 px-0">
                    <div class="d-flex flex-wrap" >
                        <div class="me-5">
                            <p class="mb-2 fs-12px">Submitted by</p>
                            <div class="d-flex justify-content-center align-items-center">
                                <div class="first-letter blue"> {{ findfingFirstName(workorderStatusDetails.submitter)}}</div>
                                <p class="fw-semibold"> {{workorderStatusDetails.submitter ? workorderStatusDetails.submitter : '-'}}</p>
                            </div>
                        </div>
                        
                    </div>
                </div>
                
                <div class="col-lg-6 d-flex justify-content-end align-items-end"  *ngIf="workorderStatusDetails.timeline.length>0">
        
                    <button class="fw-semibold primary-brand-text  mt-3" (click)="openSideBar()" data-bs-toggle="offcanvas"
                        data-bs-target="#staticBackdrop" aria-controls="staticBackdrop">View Approval Details</button>
        
                </div>
                
        
            </div>

        </div>

    </div>
   
</div>


<app-work-order-view-timeline  [show]="isShow" [timeline]="timeline" (isClose)="isClose($event)"></app-work-order-view-timeline>
