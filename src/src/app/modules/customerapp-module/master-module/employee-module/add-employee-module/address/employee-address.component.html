<form [formGroup]="employee_address" *ngIf="employee_address" (ngSubmit)="submitForm(employee_address)" (keydown.enter)="$event.preventDefault();">
    <div class="form-layout form-layout--pd">
        <ng-container>
            <div class="form-layout__card" [ngClass]="{'active': present_toggle}" formArrayName="address">
                <div class="form-layout__header">
                    <h2 class="sub-heading">
                        Present Address
                    </h2>
                    <span class="collapse-line"></span>
                    <a class="collapse-icon" (click)="present_toggle = !present_toggle "></a>
                </div>
                <div class="form-body" formGroupName="0">
                    <div class="row">
                        <div class="col-lg-3 col-sm-6">
                            <div class="input-wrap">
                                <label for="" class="">Address Line 1</label>
                                <input type="text" formControlName="address_line_1" class="no-style input--bd"
                                    placeholder="No. 10/2 Ground Floor" value="">
                            </div>
                        </div>
                        <div class="col-lg-3 col-sm-6">
                            <div class="input-wrap error"
                                [ngClass]="addErrorClass(employee_address.controls.address.controls[0].get('street'))">
                                <label for="" class="">Address Line 2</label>
                                <input name="" formControlName="street" class="no-style input--bd"
                                    placeholder="No. 10/2 Ground Floor" value="">
                                <app-error [controlName]="employee_address.controls.address.controls[0].get('street')">
                                </app-error>
                            </div>
                        </div>

                        <div class="col-lg-3 col-sm-6">
                            <div class="input-wrap error" [ngClass]="addErrorClass(employee_address.controls.address.controls[0].get('country'))">
                                <label for="" class="">Country</label>
                                <material-dropdown [searchable]="false" [addable]="false" class="dropDownWidth" >
                                    <select #customSelect formControlName="country" class="no-style select--modify" (change)="getStates()">
                                        <option *ngFor="let option of country" value="{{ option?.name }}">
                                            {{ option?.name }}
                                        </option>
                                    </select>
                                </material-dropdown>
                                <app-error [controlName]="employee_address.controls.address.controls[0].get('country')"></app-error>
                            </div>
                        </div>

                        <div class="col-lg-3 col-sm-6">
                            <div class="input-wrap error"
                                [ngClass]="addErrorClass(employee_address.controls.address.controls[0].get('state'))">
                                <label for="" class="">State</label>
                                <material-dropdown [searchable]="true" [addable]="false" class="dropDownWidth" [addBlank]="true">
                                        <select #customSelect formControlName="state" class="no-style select--modify">
                                            <option *ngFor="let option of statesBilling" value="{{ option?.name }}">
                                                {{ option?.name }}
                                            </option>
                                        </select>
                                </material-dropdown>
                                <app-error [controlName]="employee_address.controls.address.controls[0].get('state')">
                                </app-error>
                            </div>
                        </div>


                        <div class="col-lg-3 col-sm-6">
                            <div class="input-wrap error"
                                [ngClass]="addErrorClass(employee_address.controls.address.controls[0].get('pincode'))">
                                <label for="" class="">Pincode</label>
                                <input type="text" formControlName="pincode" class="no-style input--bd"
                                    placeholder="Eg:234155" value="">
                                <app-error [controlName]="employee_address.controls.address.controls[0].get('pincode')">
                                </app-error>
                            </div>
                        </div>

                    </div>
                </div>
            </div>
        </ng-container>
        <div class="form-layout__card" [ngClass]="{'active': permanent_toggle}" formArrayName="address">
            <div class="form-layout__header">
                <h2 class="sub-heading">
                    Permanent Address
                </h2>
                <span class="collapse-line"></span>
                <a class="collapse-icon" (click)="permanent_toggle = !permanent_toggle"></a>
            </div>
            <div class="form-body" formGroupName="1">
                <div class="toggle-wrapper mg-bottom-30">
                    <span class="toggle-label">Permanent Address Same as Present Address</span>
                    <label for="toggle" class="toggle-switch">
                        <input type="checkbox" id="toggle" (change)="toggleSameAddress($event)">
                        <span class="toggle-box">
                            <span class="toggle-circle"></span>
                        </span>
                    </label>
                </div>
                <div class="row">
                    <div class="col-lg-3 col-sm-6">
                        <div class="input-wrap">
                            <label for="" class="">Address Line 1</label>
                            <input type="text" formControlName="address_line_1" class="no-style input--bd"
                                placeholder="No. 10/2 Ground Floor" value="">
                        </div>
                    </div>
                    <div class="col-lg-3 col-sm-6">
                        <div class="input-wrap error"
                            [ngClass]="addErrorClass(employee_address.controls.address.controls[1].get('street'))">
                            <label for="" class="">Address Line 2</label>
                            <input name="" formControlName="street" class="no-style input--bd"
                                placeholder="No. 10/2 Ground Floor" value="">
                            <app-error [controlName]="employee_address.controls.address.controls[1].get('street')">
                            </app-error>
                        </div>
                    </div>

                    <div class="col-lg-3 col-sm-6">
                        <div class="input-wrap error" [ngClass]="addErrorClass(employee_address.controls.address.controls[1].get('country'))">
                            <label for="" class="">Country</label>
                            <material-dropdown [searchable]="false" [addable]="false" [disabled]="shippingStateSelected" class="dropDownWidth" [selectedOption]="initialDetails.country">
                                <select #customSelect formControlName="country" class="no-style select--modify" (change)="getStateShipping()">
                                    <option *ngFor="let option of country" value="{{ option?.name }}">
                                        {{ option?.name }}
                                    </option>
                                </select>
                            </material-dropdown>
                            <app-error [controlName]="employee_address.controls.address.controls[1].get('country')"></app-error>
                        </div>
                    </div>

                    <div class="col-lg-3 col-sm-6">
                        <div class="input-wrap error"
                            [ngClass]="addErrorClass(employee_address.controls.address.controls[1].get('state'))">
                            <label for="" class="">State</label>
                            <material-dropdown [searchable]="true" [addable]="false" class="dropDownWidth"
                            [selectedOption]="initialDetails.state" [addBlank]="true">
                                    <select #customSelect formControlName="state" class="no-style select--modify">
                                        <option *ngFor="let option of statesShipping" value="{{ option?.name }}">
                                            {{ option?.name }}
                                        </option>
                                    </select>
                            </material-dropdown>
                            <app-error [controlName]="employee_address.controls.address.controls[1].get('state')">
                            </app-error>
                        </div>
                    </div>


                    <div class="col-lg-3 col-sm-6">
                        <div class="input-wrap error"
                            [ngClass]="addErrorClass(employee_address.controls.address.controls[1].get('pincode'))">
                            <label for="" class="">Pincode</label>
                            <input type="text" formControlName="pincode" class="no-style input--bd"
                                placeholder="Eg:234155" value="" >
                            <app-error [controlName]="employee_address.controls.address.controls[1].get('pincode')">
                            </app-error>
                        </div>
                    </div>
                    <div class="col-xl-12">

                        <file-uploader (onFileUploaded)="fileUploader($event)"
                        (onFileDeleted)="fileDeleted($event)" [multiple]="true"
                        [accept]="'capture=camera, image/jpeg,image/x-jpg,image/png, application/pdf'"
                        [showFileName]="false">
                        </file-uploader>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="mg-top-30 section-footer mg-bottom-30">
        <div class="btn-wrap mg-bottom-100">
            <button class="btn btn-back" type="button" (click)="employeeList()">Cancel</button>
            <button class="btn" type="button" (click)="finishForm(employee_address)">Finish</button>
            <button class="btn btn--primary btn-mg-left" type="submit">Save & Continue</button>
        </div>
    </div>
</form>
