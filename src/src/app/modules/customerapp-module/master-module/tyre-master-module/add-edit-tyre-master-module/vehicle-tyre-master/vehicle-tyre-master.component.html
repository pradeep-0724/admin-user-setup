<div class="add-screen-wrap def-color">
  <div class="right-section__header">
    <h1 class="heading col-10">{{tyreMasterID?'Edit':'Add'}} Tyre Master</h1>
  </div>
  <form [formGroup]="tyreMasterForm">

    <div class=" shadow-inset-top-lg">
      <div class="row mx-0">

        <div class="col-md-6 p-4">
          <div class="row">
            <div class=" col-md-6  col-sm-12" >
              <div class="input-wrap error clearfix" [ngClass]="addErrorClass(tyreMasterForm.get('vehicle_make'))">
                <label for="" class="input--required">Vehicle Brand</label>
                <material-dropdown [searchable]="true" [addable]="false" class="dropDownWidth"
                  [selectedOption]="initialValues.make" [postApiUrl]="vehicleMakeUrl" [params]="vehicleMakeParam"
                  (postApiResponse)="getNewVehicleMake($event)" (addValueToList)="addNewVehicleMake($event)">
                  <select #customSelect formControlName="vehicle_make" class="no-style select--modify"
                    (change)="onMakeSelected($event)">
                    <option *ngFor="let option of vehicleMake" value="{{ option.id }}">
                      {{ option.make_name }}
                    </option>
                  </select>
                </material-dropdown>
                <span class="border-anim"></span>
                <app-error [controlName]="tyreMasterForm.get('vehicle_make')"></app-error>
              </div>
            </div>
            <div class=" col-md-6 col-sm-12" [ngClass]="{'disabled':!tyreMasterForm.get('vehicle_make').value}">
              <div class="input-wrap error clearfix" [ngClass]="addErrorClass(tyreMasterForm.get('vehicle_model'))">
                <label for="" class="input--required">Vehicle Model</label>
                <material-dropdown [searchable]="true" [addable]="false" [disabled]="!tyreMasterForm.get('vehicle_make').value" class="dropDownWidth"
                  [selectedOption]="initialValues.model" [postApiUrl]="vehicleModelUrl" [params]="vehicleModelParam"
                  (postApiResponse)="getNewVehicleModel($event)" (addValueToList)="addNewVehicleModel($event)">
                  <select #customSelect formControlName="vehicle_model" class="no-style select--modify">
                    <option *ngFor="let option of vehicleModel" value="{{ option.id }}">
                      {{ option.model_name }}
                    </option>
                  </select>
                </material-dropdown>
                <span class="border-anim"></span>
                <app-error [controlName]="tyreMasterForm.get('vehicle_model')"></app-error>
              </div>
            </div>

            <div class=" col-md-6 col-sm-12">
              <div class="d-flex align-items-center justify-content-between mg-bottom-30">
                <p class="fw-semibold">Total Axles </p>
                <div class="d-flex align-items-center">
                  <button class="remove-btn" [disabled]="tyreMasterForm.controls.tyre_positions['controls'].length<=1"
                    (click)="removeAxel()"><span class="material-icons">
                      remove
                    </span></button>

                  <span class="btn-amount">{{tyreMasterForm.controls.tyre_positions['controls'].length}}</span>
                  <button class="add-btn" (click)="addAxel()"><span class="material-icons">
                      add
                    </span>
                  </button>
                </div>
              </div>
            </div>
            <div class=" col-md-6 col-sm-12 mg-bottom-30">
              <div class="d-flex align-items-center h-100">
                <span class="fw-semibold">  Total Tyres in Axle: {{totalTyre}}</span>
              </div>
             
             
            </div>
            <div class=" col-md-6 col-sm-12">
              <div class="d-flex align-items-center justify-content-between mg-bottom-30">
                <span class="fw-semibold">Total Spare Tyre</span>
                <div class="d-flex align-items-center">
                  <button class="remove-btn" (click)="removeSpareTyre()" [disabled]="totalSpareTyre==0"><span
                      class="material-icons">
                      remove
                    </span> </button>
                  <span class="btn-amount">{{totalSpareTyre}} </span>
                  <button class="add-btn" (click)="addSpareTyre()"><span class="material-icons">
                      add
                    </span></button>
                </div>
              </div>
            </div>
            <div class=" col-md-6 col-sm-12 mg-bottom-30">
              
              <div class="d-flex align-items-center h-100">
                <span class="fw-semibold"> Total Tyres: {{totalTyre +totalSpareTyre}}</span>
              </div>
             
            </div>
          </div>
          <img class="d-block w-50 m-auto mt-5 pt-4" src="../../../../../../../assets/img/tyre-code.png" alt="tyre code instruction chart">
        </div>
        <div class="col-md-6 tyre-layout-height border-start border-1">

          <app-tyre-position-layout [isAdd]="true" [editData]="editData" (emitTotalTyre)="emitTotalTyre($event)" [tyreMasterForm]="tyreMasterForm"
            [removeAxels]="removeAxels" [addNewAxel]="addNewAxel"></app-tyre-position-layout>

        </div>




      </div>

    </div>

  </form>
</div>
<div class="d-flex justify-content-end custom-footer-bg px-4 py-2">

  <button type="button" class="btn me-2 btn--sm" [routerLink]="[prefixUrl+'/onboarding/vehicle/tyremaster/view']"
    routerLinkActive="router-link-active">Cancel</button>
  <button type="button" class="btn btn--primary btn--sm" (click)="finishForm()">{{tyreMasterID?'Update':'Save'}}</button>

</div>