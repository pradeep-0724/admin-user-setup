<div class="container-fluid">
    <div class="row align-items-lg-stretch def-color ">
        <div class="col-12 rounded-3 layout-bg p-3 pt-0 custom-shadow-md">
            <app-table-widget tableTitle="Client Status" [isDateRange]="true" [selectedDateRangeType]="10" [isShowDateRangeText]="true"
                (dateRangeEmitter)="dateRangeClientStat($event)"></app-table-widget>
            <div class="row ">
                <div class="col-lg px-2 col-md-6 mt-3 mt-lg-0">
                    <div class="stats-card rounded-3 yellow-activity-card   yellow-card">
                        <div class="d-flex justify-content-between align-items-center">
                            <span class="fw-semibold fs-12px"> Total Activities</span>
                            <span class="stats-icon">

                            </span>
                        </div>
                        <p class="fs-5 fw-bold mt-3">{{clientStats?.transactions}}</p>
                    </div>
                </div>
                <div class="col-lg px-2 col-md-6 mt-3 mt-lg-0">
                    <div class="stats-card green-cost-card  green-card rounded-3">
                        <div class="d-flex justify-content-between align-items-center">
                            <span class="fw-semibold fs-12px">Opening Balance</span>
                            <span class="stats-icon">

                            </span>
                        </div>
                        <p class="fs-5 fw-bold mt-3">{{ currency_type?.symbol}} {{clientStats?.opening_balance|numberFormat}}</p>
                    </div>
                </div>
                <div class="col-lg px-2 col-md-6 mt-3 mt-lg-0">
                    <div class="stats-card green-cost-card  green-card rounded-3">
                        <div class="d-flex justify-content-between align-items-center">
                            <span class="fw-semibold fs-12px">Billed Amount</span>
                            <span class="stats-icon">

                            </span>
                        </div>
                        <p class="fs-5 fw-bold mt-3">{{ currency_type?.symbol}} {{clientStats?.record_created|numberFormat}}</p>
                    </div>
                </div>
                <div class="col-lg px-2 col-md-6 mt-3 mt-lg-0">
                    <div class="stats-card green-cost-card  green-card rounded-3">
                        <div class="d-flex justify-content-between align-items-center">
                            <span class="fw-semibold fs-12px">Payment Received</span>
                            <span class="stats-icon">

                            </span>
                        </div>
                        <p class="fs-5 fw-bold mt-3">{{ currency_type?.symbol}} {{clientStats?.received|numberFormat}}</p>
                    </div>
                </div>
                <div class="col-lg px-2 col-md-6 mt-3 mt-lg-0">
                    <div class="stats-card green-cost-card  green-card  rounded-3">
                        <div class="d-flex justify-content-between align-items-center">
                            <span class="fw-semibold fs-12px">Closing Balance</span>
                            <span class="stats-icon">

                            </span>
                        </div>
                        <p class="fs-5 fw-bold mt-3">{{ currency_type?.symbol}} {{clientStats?.closing_balance|numberFormat}}</p>
                    </div>
                </div>

            </div>

        </div>
    </div>
    <!--  -->
    <div class="row rounded-3 mt-4  layout-bg def-color custom-shadow-md">
        <app-table-widget tableTitle="Invoice " [isCollapsable]="true" [isExpanded]="true"
            (expandCollapseEvent)="expandCollapseInvoiceTable($event)" [isSearch]="true"
            (searchedData)="searchedDataInvoice($event)"></app-table-widget>
        <div class="col-12 p-0 pb-3" [@collapse]="isExpandInvoice">

            <div class="custom-table-container invoice_scroll" (scroll)="onScrollInvoice($event)">
                <table>
                    <thead>
                        <tr>
                            <th>DATE</th>
                            <th>INVOICE NO.</th>
                            <th>AMOUNT ({{ currency_type?.symbol}})</th>
                            <th>BALANCE ({{ currency_type?.symbol}})</th>
                            <th>STATUS</th>
                        </tr>
                    </thead>
                    <tbody *ngIf="invoiceList.length==0">
                        <tr class="border-0">
                            <td colspan="30" class="bg-white">
                                <div class="no-list-data-wrap">
                                    <figure><img src="assets/img/no-content.png" alt=""></figure>
                                    <h5 class="mt-3 primary-brand-text">No data found!</h5>
                                </div>
                            </td>
                        </tr>
                    </tbody>
                    <tbody>
                        <tr *ngFor="let data of invoiceList">
                            <td>{{data?.date}}</td>
                            <td><a target="_blank"  class="custom-link"
                                [routerLink]="[getPrefixUrl + '/income/invoice/view/'+data.id]" [queryParams]="{formlist : invoice}" >
                                {{data?.invoice_no}}</a>
                            </td>
                            <td>{{data?.amount|numberFormat}}</td>
                            <td>{{data?.balance|numberFormat}}</td>
                            <td>{{data?.status}}</td>
                        </tr>

                    </tbody>
                </table>
            </div>

        </div>
    </div>
    <div class="row rounded-3 mt-4  layout-bg def-color custom-shadow-md">
        <app-table-widget tableTitle="Payment Settlement " [isCollapsable]="true"
            (expandCollapseEvent)="expandCollapsePaymentSettlementTable($event)" [isSearch]="true" [isExpanded]="true"
            (searchedData)="searchedDataPaymentSettlement($event)"></app-table-widget>
        <div class="col-12 p-0 pb-3" [@collapse]="isExpandPaymentSettlement">
            <div class="custom-table-container payment_settlement_scroll" (scroll)="onScrollPaymentSettlement($event)">
                <table>
                    <thead>
                        <tr>
                            <th>DATE</th>
                            <th>PAYMENT NO.</th>
                            <th>ACCOUNT NO.</th>
                            <th>TOTAL AMOUNT ({{ currency_type?.symbol}})</th>
                        </tr>
                    </thead>
                    <tbody *ngIf="paymentSettlementList.length==0">
                        <tr class="border-0">
                            <td colspan="30" class="bg-white">
                                <div class="no-list-data-wrap">
                                    <figure><img src="assets/img/no-content.png" alt=""></figure>
                                    <h5 class="mt-3 primary-brand-text">No data found!</h5>
                                </div>
                            </td>
                        </tr>
                    </tbody>
                    <tbody>
                        <tr *ngFor="let data of paymentSettlementList">
                            <td>{{data?.date}}</td>
                            <td> <a  target="_blank" class="custom-link"
                                [href]="getPrefixUrl+'/income/payments/list/invoice?pdfViewId='+data.id">{{data?.payment_no}}</a>
                            </td>
                            <td>{{data?.account_no}}</td>
                            <td>{{data?.total_amount|numberFormat}}</td>
                        </tr>
                    </tbody>
                </table>
            </div>

        </div>
    </div>
    <!--  -->
    <div class="row rounded-3 mt-4  layout-bg def-color custom-shadow-md">
        <app-table-widget tableTitle="Sales Orders " [isCollapsable]="true" (searchedData)="searchedDataSO($event)"
            (expandCollapseEvent)="expandCollapseSO($event)" [isSearch]="true"></app-table-widget>
        <div class="col-12 p-0 pb-3" [@collapse]="isExpandSO">
            <div class="custom-table-container so_scroll" (scroll)="onScrollSO($event)">
                <table>
                    <thead>
                        <tr>
                            <th>DATE</th>
                            <th>Sales Order No.</th>
                            <th>AMOUNT ({{ currency_type?.symbol}})</th>
                            <th>STATUS</th>
                        </tr>
                    </thead>
                    <tbody *ngIf="soList.length==0">
                        <tr class="border-0">
                            <td colspan="30" class="bg-white">
                                <div class="no-list-data-wrap">
                                    <figure><img src="assets/img/no-content.png" alt=""></figure>
                                    <h5 class="mt-3 primary-brand-text">No data found!</h5>
                                </div>
                            </td>
                        </tr>
                    </tbody>
                    <tbody>
                        <tr *ngFor="let data of soList">          
                            <td>{{data?.date}}</td>
                            <td><a target="_blank" class="custom-link"
                                [href]="getPrefixUrl+'/trip/work-order/details/'+data.id">
                                {{data?.work_order_no}}</a>
                            </td>
                            <td>{{data?.amount|numberFormat}}</td>
                            <td>{{data?.status}}</td>
                        </tr>

                    </tbody>
                </table>
            </div>


        </div>
    </div>

    <div class="row rounded-3 mt-4  layout-bg def-color custom-shadow-md">
        <app-table-widget tableTitle="Advance " [isCollapsable]="true" (searchedData)="searchedDataAdvance($event)"
            (expandCollapseEvent)="expandCollapseAdvanceTable($event)" [isSearch]="true"></app-table-widget>
        <div class="col-12 p-0 pb-3" [@collapse]="isExpandVendorAdvance">
            <div class="custom-table-container advance_scroll" (scroll)="onScrollAdvance($event)">
                <table>
                    <thead>
                        <tr>
                            <th>DATE</th>
                            <th>ADVANCE NO.</th>
                            <th>AMOUNT ({{ currency_type?.symbol}})</th>
                            <th>PAYMENT MODE</th>
                            <th>STATUS</th>
                        </tr>
                    </thead>
                    <tbody *ngIf="advanceList.length==0">
                        <tr class="border-0">
                            <td colspan="30" class="bg-white">
                                <div class="no-list-data-wrap">
                                    <figure><img src="assets/img/no-content.png" alt=""></figure>
                                    <h5 class="mt-3 primary-brand-text">No data found!</h5>
                                </div>
                            </td>
                        </tr>
                    </tbody>
                    <tbody>
                        <tr *ngFor="let data of advanceList">
                            <td>{{data?.date}}</td>
                            <td><a target="_blank" class="custom-link"
                                [href]="getPrefixUrl+'/income/payments/list/advance?pdfViewId='+data.id">
                                {{data?.advance_no}}</a>
                            </td>
                            <td>{{data?.amount|numberFormat}}</td>
                            <td>{{data?.payment_mode}}</td>
                            <td>{{data?.status}}</td>
                        </tr>

                    </tbody>
                </table>
            </div>


        </div>
    </div>

    <div class="row rounded-3 mt-4  layout-bg def-color custom-shadow-md">
        <app-table-widget tableTitle="Refund " [isCollapsable]="true" (searchedData)="searchedDataRefund($event)"
            (expandCollapseEvent)="expandCollapseRefundTable($event)" [isSearch]="true"></app-table-widget>
        <div class="col-12 p-0 pb-3" [@collapse]="isExpandRefund">
            <div class="custom-table-container refund_scroll" (scroll)="onScrollRefund($event)">
                <table>
                    <thead>
                        <tr>
                            <th>DATE</th>
                            <th>REFUND NO.</th>
                            <th>CREDIT NOTE</th>
                            <th>REFUND AMOUNT ({{ currency_type?.symbol}})</th>
                            <th>PAYMENT MODE</th>
                            <th>STATUS</th>
                            <!-- <th class="icon-box">VIEW</th> -->
                        </tr>
                    </thead>
                    <tbody *ngIf="refundList.length==0">
                        <tr class="border-0">
                            <td colspan="30" class="bg-white">
                                <div class="no-list-data-wrap">
                                    <figure><img src="assets/img/no-content.png" alt=""></figure>
                                    <h5 class="mt-3 primary-brand-text">No data found!</h5>
                                </div>
                            </td>
                        </tr>
                    </tbody>
                    <tbody>
                        <tr *ngFor="let data of refundList">
                            <td>{{data?.date}}</td>
                            <td>{{data?.refund_no}}</td>
                            <td><a [routerLink]="[getPrefixUrl + '/income/credit-note/list/']" 
                                [queryParams]="{pdfViewId: data?.credit_note?.id}"  class="custom-link"
                                target="_blank"> {{data?.credit_note?.no}}</a>
                            </td>
                            <td>{{data?.amount|numberFormat}}</td>
                            <td>{{data?.payment_mode}}</td>
                            <td>{{data?.status}}</td>
                        </tr>
                    </tbody>
                </table>
            </div>


        </div>
    </div>

    <div class="row rounded-3 mt-4  layout-bg def-color custom-shadow-md overflow-hidden">
        <app-table-widget tableTitle="Cheque Payment " [isCollapsable]="true"
            (searchedData)="searchedDataPaymentCheque($event)"
            (expandCollapseEvent)="expandCollapsePaymentTable($event)" [isSearch]="true"></app-table-widget>
        <div class="col-12 p-0 pb-3" [@collapse]="isExpandPayment">
            <div class="custom-table-container payment_cheque_scroll" (scroll)="onScrollPaymentCheque($event)">
                <table>
                    <thead>
                        <tr>
                            <th>CHEQUE DATE</th>
                            <th>CHEQUE NO</th>
                            <th>AMOUNT ({{ currency_type?.symbol}})</th>
                            <th>CLEARANCE DATE</th>
                            <th>STATUS</th>
                            <!-- <th class="icon-box">VIEW</th> -->

                        </tr>
                    </thead>
                    <tbody *ngIf="paymentChequeList.length==0">
                        <tr class="border-0">
                            <td colspan="30" class="bg-white">
                                <div class="no-list-data-wrap">
                                    <figure><img src="assets/img/no-content.png" alt=""></figure>
                                    <h5 class="mt-3 primary-brand-text">No data found!</h5>
                                </div>
                            </td>
                        </tr>
                    </tbody>
                    <tbody>
                        <tr *ngFor="let data of paymentChequeList">
                            <td>{{data?.date}}</td>
                            <td>{{data?.cheque_no}}</td>
                            <td>{{data?.amount|numberFormat}}</td>
                            <td>{{data?.clearance_date}}</td>
                            <td>{{data?.status}}</td>
                            <!-- <td class="icon-box">
                                <div class="justify-content-center align-items-center d-flex">
                                    <a class="sky-blue-text" target="_blank"
                                        [href]="getPrefixUrl+'/income/payments/list/advance?pdfViewId='+data.id">
                                        <span class="material-icons fs-4">
                                            remove_red_eye
                                        </span>
                                    </a>
                                </div>
                            </td> -->
                        </tr>
                    </tbody>
                </table>
            </div>


        </div>
    </div>
    <div class="row rounded-3 mt-4  layout-bg def-color custom-shadow-md">
        <app-table-widget tableTitle="Credit Note " [isCollapsable]="true" (searchedData)="searchedDataCreditNote($event)"
            (expandCollapseEvent)="expandCollapseCreditNoteTable($event)" [isSearch]="true"></app-table-widget>
        <div class="col-12 p-0 pb-3" [@collapse]="isExpandCreditNote">
            <div class="custom-table-container credit_note_scroll" (scroll)="onScrollCreditNote($event)">
                <table>
                    <thead>
                        <tr>
                            <th>DATE</th>
                            <th>CREDIT NOTE NO.</th>
                            <th>INVOICE NO.</th>
                            <th>AMOUNT ({{ currency_type?.symbol}})</th>
                            <th>BALANCE ({{ currency_type?.symbol}})</th>
                            <th>STATUS</th>
                        </tr>
                    </thead>
                    <tbody *ngIf="creditNoteList.length==0">
                        <tr class="border-0">
                            <td colspan="30" class="bg-white">
                                <div class="no-list-data-wrap">
                                    <figure><img src="assets/img/no-content.png" alt=""></figure>
                                    <h5 class="mt-3 primary-brand-text">No data found!</h5>
                                </div>
                            </td>
                        </tr>
                    </tbody>
                    <tbody>

                         <tr *ngFor="let data of creditNoteList">
                            <td>{{data?.date}}</td>
                            <td><a  target="_blank"class="custom-link"
                                [href]="getPrefixUrl+'/income/credit-note/list?pdfViewId='+data.id">
                                {{data?.credit_note_no}}</a>
                            </td>
                            <td><a  target="_blank" class="custom-link"
                                [href]="getPrefixUrl+'/income/invoice/view/'+data?.invoice_no?.id+'?fromlist=invoice'">
                                {{data?.invoice_no?.no}}</a>
                            </td>
                            <td>{{data?.amount|numberFormat}}</td>
                            <td>{{data?.balance|numberFormat}}</td>
                            <td>{{data?.status}}</td>
                        </tr>
                       
                    </tbody>
                </table>
            </div>


        </div>
    </div>
    <div class="row rounded-3 mt-4  layout-bg def-color custom-shadow-md ">
        <app-table-widget tableTitle="Debit Note " [isCollapsable]="true" (searchedData)="searchedDataDebitNote($event)"
            (expandCollapseEvent)="expandCollapseDebitNoteTable($event)" [isSearch]="true"></app-table-widget>
        <div class="col-12 p-0 " [@collapse]="isExpandDebitNote">
            <div class="custom-table-container debit_note_scroll" (scroll)="onScrollDebitNote($event)">
                <table>
                    <thead>
                        <tr>
                            <th>DATE</th>
                            <th>DEBIT NOTE NO.</th>
                            <th>INVOICE NO.</th>
                            <th>AMOUNT ({{ currency_type?.symbol}})</th>
                            <th>BALANCE ({{ currency_type?.symbol}})</th>
                            <th>STATUS</th>
                        </tr>
                    </thead>
                    <tbody *ngIf="debitNoteList.length==0">
                        <tr class="border-0">
                            <td colspan="30" class="bg-white">
                                <div class="no-list-data-wrap">
                                    <figure><img src="assets/img/no-content.png" alt=""></figure>
                                    <h5 class="mt-3 primary-brand-text">No data found!</h5>
                                </div>
                            </td>
                        </tr>
                    </tbody>
                    <tbody>
                         <tr *ngFor="let data of debitNoteList">
                            <td>{{data?.date}}</td>
                            <td><a  target="_blank"class="custom-link"
                                [href]="getPrefixUrl+'/income/debit-note/list?pdfViewId='+data.id">
                                {{data?.debit_note_no}}</a>
                            </td>
                            <td><a  target="_blank" class="custom-link"
                                [href]="getPrefixUrl+'/income/invoice/view/'+data?.invoice_no?.id+'?fromlist=invoice'">
                                {{data?.invoice_no?.no}}</a>
                            </td>
                            <td>{{data?.amount|numberFormat}}</td>
                            <td>{{data?.balance|numberFormat}}</td>
                            <td>{{data?.status}}</td>
                        </tr>
                    </tbody>
                </table>
            </div>


        </div>
    </div>
   
</div>