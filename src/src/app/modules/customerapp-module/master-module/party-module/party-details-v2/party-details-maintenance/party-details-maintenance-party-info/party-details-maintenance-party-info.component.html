<div class="container-fluid">
    <div class="row align-items-lg-stretch ">
        <div class="col-lg-6 pe-lg-2 p-0 ">
            <div class="  rounded-3 p-3 layout-bg def-color h-100 card-shadow">

                <div class="d-flex justify-content-between align-items-center"><span class="fs-6 fw-bold">Details</span>
                    <button class="gb-edit-btn" *ngIf="isPartyEditPermission" [routerLink]="[preFixUrl+'/onboarding/party/edit/'+partyId]"><span class="material-icons"> create </span>
                    </button>
                </div>
                <div
                    class="border-1 border-bottom d-flex justify-content-between align-items-center px-4 p-y-15px mt-3">
                    <span class="fw-semibold">Category</span><span>{{partInfoDetails?.vendor_type ? partInfoDetails?.vendor_type : '-'}}</span>
                </div>
                <div
                    class="border-1 border-bottom d-flex justify-content-between align-items-center px-4 p-y-15px ">
                    <span class="fw-semibold">Company</span><span>{{partInfoDetails?.company_name}}</span>

                </div>

                <div class="border-1 border-bottom d-flex justify-content-between align-items-center px-4 p-y-15px">
                    <span class="fw-semibold">Email</span><span>{{partInfoDetails?.email_address ? partInfoDetails?.email_address:'-'}}</span>
                </div>
                <div class="border-1 border-bottom d-flex justify-content-between align-items-center px-4 p-y-15px">
                    <span class="fw-semibold">Phone</span><span>{{partInfoDetails?.mobile_country_code}} {{partInfoDetails?.mobile ? partInfoDetails?.mobile:'-'}}</span>
                </div>
                <div class=" d-flex border-bottom justify-content-between align-items-center px-4 p-y-15px">
                    <span class="fw-semibold">Employee In Charge</span><span>
                        {{partInfoDetails?.sales_person_name ? partInfoDetails?.sales_person_name:'-'}}</span>
                </div>
                <div class=" d-flex border-bottom justify-content-between align-items-center px-4 p-y-15px">
                    <span class="fw-semibold">Party Approver </span><span>
                        {{partInfoDetails?.party_approver ? partInfoDetails?.party_approver:'-'}}</span>
                </div>


                <div class="py-4">
                    <span class="fs-6 fw-bold">Address</span>

                </div>

                <div class="border-1 border-bottom d-flex justify-content-between  px-4 p-y-15px pt-0 mt-3">
                    <span class="fw-semibold">Billing Address</span>
                    <div *ngIf="!partInfoDetails?.address[0]?.address_line_1 && !partInfoDetails?.address[0]?.street && !partInfoDetails?.address[0]?.state && !partInfoDetails?.address[0]?.country && !partInfoDetails?.address[0]?.pincode;else billing_address">-</div>
                    <ng-template #billing_address>
                    <div class="address-text ">{{partInfoDetails?.address[0]?.address_line_1 && partInfoDetails?.address[0]?.address_line_1 +", "}}
                        {{partInfoDetails?.address[0]?.street}}<br /> {{partInfoDetails?.address[0]?.state}}<br />
                        {{partInfoDetails?.address[0]?.country}}<br /> {{partInfoDetails?.address[0]?.pincode}}</div>
                    </ng-template>
                </div>
                <div class="border-1 border-bottom d-flex justify-content-between  px-4 p-y-15px">
                    <span class="fw-semibold">Shipping Address</span>
                    <div *ngIf="!partInfoDetails?.address[1]?.address_line_1 && !partInfoDetails?.address[1]?.street && !partInfoDetails?.address[1]?.state && !partInfoDetails?.address[1]?.country && !partInfoDetails?.address[1]?.pincode;else shipping_address">-</div>
                    <ng-template #shipping_address>
                    <div class="address-text ">{{partInfoDetails?.address[1]?.address_line_1 && partInfoDetails?.address[1]?.address_line_1 +", "}}
                        {{partInfoDetails?.address[1]?.street}}<br /> {{partInfoDetails?.address[1]?.state}}<br />
                        {{partInfoDetails?.address[1]?.country}}<br /> {{partInfoDetails?.address[1]?.pincode}}</div>
                    </ng-template>
                </div>
                <ng-container *ngIf="isTax">
                    <div class="py-4">
                        <span class="fs-6 fw-bold">Tax</span>
                    </div>
                    <div
                        class="border-1 border-bottom d-flex justify-content-between align-items-center px-4 p-y-15px pt-0 mt-3">
                        <span class="fw-semibold">{{isTds?'VAT':'GST'}}  registration</span><span>{{partInfoDetails?.tax_details?.treatment?.label}}</span>
                    </div>
                    <div [ngClass]="{'border-bottom':isTds}" class=" d-flex justify-content-between align-items-center px-4 p-y-15px">
                        <span class="fw-semibold">{{isTds?'TRN':'GSTIN'}}</span><span>{{partInfoDetails?.tax_details?.gstin ? partInfoDetails?.tax_details?.gstin:'-'}}</span>
                    </div>
                    <ng-container *ngIf="isTds">
                        <div class="border-bottom d-flex justify-content-between align-items-center px-4 p-y-15px">
                            <span class="fw-semibold">Corporate Tax Registration
                            </span><span>{{partInfoDetails?.tax_details?.crn_treatment ?
                                partInfoDetails?.tax_details?.crn_treatment?.label:'-'}}</span>
                        </div>
                        <div class=" d-flex justify-content-between align-items-center px-4 p-y-15px">
                            <span class="fw-semibold">CRN
                            </span><span>{{partInfoDetails?.tax_details?.crn_no ?
                                partInfoDetails?.tax_details?.crn_no:'-'}}</span>
                        </div>
                    </ng-container>
                 </ng-container>   
              
            </div>
        </div>
        <div class="col-lg-6 ps-lg-2 p-0  mt-4 mt-lg-0 ">
            <div class="rounded-3 p-3 h-100  layout-bg def-color card-shadow">
                <div class="d-flex justify-content-between align-items-center"><span class="fs-6 fw-bold">Balance</span>
                    <button class="gb-edit-btn" *ngIf="isPartyEditPermission" [routerLink]="[preFixUrl+'/onboarding/party/edit/'+partyId]"><span class="material-icons"> create </span>
                    </button>
                </div>

                <div
                    class="border-1 border-bottom d-flex justify-content-between align-items-center px-4 p-y-15px mt-3">
                    <span class="fw-semibold">Opening Balance</span><span>{{ currency_type?.symbol}} {{partInfoDetails?.opening_balance?.open_balance}}</span>
                </div>
                <div class="border-1 border-bottom d-flex justify-content-between align-items-center px-4 p-y-15px">
                    <span class="fw-semibold">Opening Date</span><span>{{partInfoDetails?.opening_balance?.open_balance_date}}</span>
                </div>
                <div class="py-4">
                    <span class="fs-6 fw-bold">Billing</span>
                </div>
                <div
                    class="border-1 border-bottom d-flex justify-content-between align-items-center px-4 p-y-15px pt-0 mt-3">
                    <span class="fw-semibold">Preferred Payment Method</span><span>{{partInfoDetails?.billing_payment_method ?partInfoDetails?.billing_payment_method:'-'}}</span>
                </div>
                <div class="border-1 border-bottom d-flex justify-content-between align-items-center px-4 p-y-15px pt-0 mt-3">
                    <span class="fw-semibold"> Payment Mode </span>
                     <span>{{partInfoDetails?.payment_mode ? partInfoDetails?.payment_mode:'-'}}</span>
                 </div>
                <div class="border-1 border-bottom d-flex justify-content-between align-items-center px-4 p-y-15px">
                    <span class="fw-semibold">Terms</span><span>{{partInfoDetails?.terms || '-'}} <span *ngIf="partInfoDetails?.terms=='Custom'">( {{partInfoDetails?.terms_days}} Days )</span></span>
                </div>
                <div class="border-1 border-bottom d-flex justify-content-between align-items-center px-4 p-y-15px">
                    <span class="fw-semibold">Note</span><span>{{partInfoDetails?.notes ?partInfoDetails?.notes:'-'}}</span>
                </div>
            </div>

        </div>
    </div>

    <div class="row rounded-3 mt-4  layout-bg def-color card-shadow mb-4 pb-3">
        <app-table-widget  [isEditButton]="isPartyEditPermission" tableTitle="Point of Contact" (editButtonEvent)="editButton($event)"></app-table-widget>

        <div class="col-12 p-0">
            <div class="custom-table-container ">
                <table>
                    <thead>
                        <tr>
                            <th>NAME</th>
                            <th>DESIGNATION</th>
                            <th>MOBILE NUMBER</th>
                            <th>WORK NUMBER</th>
                            <th>EMAIL</th>
                            <th class=" icon-box">DEFAULT CONTACT</th>
                        </tr>
                    </thead>

                    <!-- do-data-component -->
                    <tbody *ngIf="partyContactList.length==0">
                        <tr class="border-0">
                            <td class="bg-white" colspan="30">
                                <div class="no-list-data-wrap">
                                    <figure>
                                        <img src="assets/img/no-content.png" alt="">
                                    </figure>
                                    <h5 class="mt-3 primary-brand-text">No data found!</h5>
                                </div>
                            </td>
                        </tr>

                    </tbody>
                    <tbody>
                        <!-- Rows -->
                        <tr *ngFor="let contact of partyContactList">
                            <td>{{contact?.display_name}}</td>
                            <td>{{contact?.designation ?contact?.designation :'-' }}</td>
                            <td>{{contact?.contact_no}}</td>
                            <td> {{contact?.work_number?.no ?contact?.work_number?.no:'-'}} | {{contact?.work_number?.ext ?contact?.work_number?.ext:'-'}}</td>
                            <td>{{contact?.email_address ?contact?.email_address:'-'}}</td>

                            <td class=" icon-box">
                                <div class="justify-content-center align-items-center d-flex" [ngClass]="{'disable':!isPartyEditPermission}">
                                    <input type="radio" [checked]="contact.default" (change)="makeContactDefault(contact)" class="default-contect-btn" />
                                </div>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>


        </div>
    </div>
    <div class="row align-items-lg-stretch">
        <div class="col-12 px-0   layout-bg def-color h-100  d-flex flex-column">

           <div class="rounded-3 p-3 card-shadow ">
            <div class="d-flex justify-content-between align-items-center mb-3"><span class="fs-6 fw-bold">Other Details</span>
                <button *ngIf="isPartyEditPermission" class="gb-edit-btn" [routerLink]="[preFixUrl+'/onboarding/party/edit/'+partyId]"><span
                        class="material-icons"> create </span>
                </button>
            </div>
            <p class="primary-brand-text fs-6 text-center p-5 fw-semibold" *ngIf="customFieldData.length == 0">No Custom Fields Added !!</p>
            <div class="row mx-0">
            <div *ngFor = "let partInfoDetails of customFieldData;let i = index;"
                class=" col-lg-6  ">
                <div class="h-100 border-bottom  d-flex justify-content-between align-items-center px-4 p-y-15px" [ngClass]="{'border-top':i==0 || i==1,'py-2':partInfoDetails.field_type.data_type=='checkbox'}" >
                <span class="fw-semibold">{{partInfoDetails.field_label}}</span><span  *ngIf="partInfoDetails.field_type.data_type!='date' && partInfoDetails.field_type.data_type!='checkbox'">{{partInfoDetails?.value ? partInfoDetails?.value : '-'}}</span>
                <span *ngIf="partInfoDetails.field_type.data_type=='date'" > {{convertToNormalDate(partInfoDetails?.value)}}</span>
                <span *ngIf="partInfoDetails.field_type.data_type=='checkbox'" ><span class="material-icons def-color" *ngIf="partInfoDetails?.value==false">
                    check_box_outline_blank
                    </span><span class="material-icons  primary-brand-text" *ngIf="partInfoDetails?.value==true">
                    check_box
                    </span></span>
            </div>

            </div>
        </div>
          </div>
    </div>
</div>
</div>