<div class="modal fade modal-scrollable" [ngClass]="{'show':addVehiclePopup.show}" id="exampleModal" tabindex="-1" role="dialog"
aria-labelledby="exampleModalLabel" aria-hidden="true">
<div class="modal-dialog modal--xls" role="document">
    <div class="modal-content p-3">
      <button style="width:54px;margin: 5px;" *ngIf="bookingId"  (click)="deleteBooking()"><mat-icon>delete</mat-icon></button>
      <button class="close-icon" (click)="cancelButtonClick()"><mat-icon>highlight_off</mat-icon></button>
      <form [formGroup]="addBookingForm" style="margin: 10px;">
        <div class="row mg-top-20" >
          <div class="col-xl-4 col-lg-4 col-md-6 col-sm-6">
            <div class="input-wrap clearfix  error" [ngClass]="addErrorClass(addBookingForm.controls.booking_id)">
              <label for="" class="input--required">Booking ID</label>
              <input  type="text" class="no-style input--bd" placeholder="123456" value="" [readOnly]="bookingId!==''" formControlName="booking_id">
              <app-error [controlName]="addBookingForm.controls.booking_id"></app-error>
            </div>
          </div>

          <div class="col-xl-4 col-lg-4 col-md-6 col-sm-6">
            <div class="input-wrap error"  [ngClass]="addErrorClass(addBookingForm.controls.party)">
                <label for="" class="input--required">Party Name</label>
                <material-dropdown [addable]="true"
                             [selectedOption]="initialValues.party"
                             [party]="true" (addPartyPopup)="openAddPartyModal($event)"
                             (addValueToList)="addValueToPartyPopup($event)"
                             [params]="partyNamePopup">
                    <select #customSelect formControlName="party" class="no-style select--modify">
                        <option *ngFor="let party of partyList" value="{{ party.id }}">
                  {{ party.party_display_name }}
                   </option>
                 </select>
                </material-dropdown>
           <app-error [controlName]="addBookingForm.controls.party"></app-error>
            </div>
        </div>


          <div class="col-xl-4 col-lg-4 col-md-6 col-sm-6">
            <div class="input-wrap error"  [ngClass]="addErrorClass(addBookingForm.controls.trip_start_date)">
              <label for="" class="input--required">Trip Start Date</label>
              <mat-form-field>
                <input matInput [matDatepicker]="tripStartDate" [min]="startDateMin" (focus)="tripStartDate.open()" formControlName="trip_start_date" placeholder="DD/MM/YYYY" (dateChange)="startDateChange()">
                <mat-datepicker-toggle matSuffix [for]="tripStartDate"></mat-datepicker-toggle>
                <mat-datepicker #tripStartDate></mat-datepicker>
              </mat-form-field>
              <app-error [controlName]="addBookingForm.controls.trip_start_date"></app-error>
            </div>
        </div>
        <div class="col-xl-4 col-lg-4 col-md-6 col-sm-6">
          <div class="input-wrap error"  [ngClass]="addErrorClass(addBookingForm.controls.trip_end_date)">
            <label for="" class="input--required">Trip End Date </label>
            <mat-form-field>
              <input matInput [matDatepicker]="tripEndDate" [min]="endDateMin" (focus)="tripEndDate.open()" formControlName="trip_end_date" placeholder="DD/MM/YYYY">
              <mat-datepicker-toggle matSuffix [for]="tripEndDate"></mat-datepicker-toggle>
              <mat-datepicker #tripEndDate></mat-datepicker>
            </mat-form-field>
            <app-error [controlName]="addBookingForm.controls.trip_end_date"></app-error>
          </div>
      </div>
      <div class="col-xl-4 col-lg-4 col-md-6 col-sm-6">
        <div class="input-wrap clearfix ">
          <label for="" class="input">No of Vehicles </label>
          <input  type="text" class="no-style input--bd" placeholder="123456" value="" positiveThreeDigitDecimalNumber formControlName="number_of_vehicles" (change)="setErrors()">
          <app-error [controlName]="addBookingForm.controls.number_of_vehicles"></app-error>
        </div>
      </div>

      <div class="col-xl-4 col-lg-4 col-md-6 col-sm-6">
        <div  class="max-wd-120 height-48">
          <mat-select-autocomplete
          [placeholder]="'Select vehicle'"
          [options]="vehicleOptionsList"
          [multiple]='true'
          name="optionsSelector"
          ngDefaultControl
          [formControl]="addBookingForm.controls.vehicle_numbers"  (selectionChange)="changedVehicle($event)"  >
        </mat-select-autocomplete>
        </div>
        <span *ngFor="let selected of selectedVehicleList" >
          {{selected.display}},
        </span>
      </div>
   </div>
   </form>

   <div class="modal-footer no-border padding_zero">
    <button type="button" class="btn" data-dismiss="modal" (click)="cancelButtonClick()">Close</button>
    <button type="submit" class="btn btn--primary" (click)="saveButtonClick()">Save</button>
  </div>
  </div>
</div>
</div>
<div *ngIf="addVehiclePopup.show" class="modal-backdrop fade show"></div>
<app-add-party-popup [popDetail]="showAddPartyPopup" (closeModal)="closePartyPopup()"(partyAdded)="addPartyToOption($event)"></app-add-party-popup>

