<div [ngClass]="{'border-bottom':routeToDetail}" class="calc-height">
    <app-list-widget [isFilter]="true" [isDateRangeText]="true" [isDateDropDown]="true" [isDateRange]="false" 
      [isAddButton]="true" [filterUrl]="filterUrl" [subtractDays]="30" [end_date]="end_date"
      listTitle="Salaries List" (listWidgetData)="listWidgetData($event)" [buttonData]="buttonData">
      <button class="gb-video-play me-2" id="custom-button-left" (click)="openGothrough()">
        <i class="bi bi-play-circle-fill"></i>
      </button>
    </app-list-widget>
    <div class="alert-msg" *ngIf="apiError">
      <span class="icon-wrap"></span>
      <p class="message-cont">{{ apiError }}</p>
    </div>
  </div>
  

    <div class="row mx-0">
  
      <div class="custom-table-container fuel-list-wrap  p-0" id="salary-list"
        [ngClass]="routeToDetail?'col-lg-4':'col-lg-12'" (scroll)="onScroll($event)">
        <table [ngClass]="{'h-100':salariesList.length==0}">
  
          <thead *ngIf="!routeToDetail">
            <tr>
                <th class="ws-normal">DATE</th>
                <th >REFERENCE NUMBER</th>
                <th >SALARY MONTH</th>
                <th >ALLOWANCE MONTH</th>
                <th class="ws-normal">EMPLOYEES</th>
                <th >TOTAL PAID ({{ currency_type?.symbol}})</th>
                <th class="icon-box"></th>
            </tr>
          </thead>
          <tbody *ngIf="salariesList.length == 0">
            <tr class="border-0">
              <td class="bg-white" colspan="30">
                <div class="no-list-data-wrap">
                  <figure>
                    <img src="assets/img/no-content.png" alt="">
                  </figure>
                  <h5 class="mt-3 primary-brand-text">No data found!</h5>
                </div>
              </td>
            </tr>
  
          </tbody>
  
          <tbody>
            <tr *ngFor="let data of salariesList" [ngClass]="{'activated-row':selectedId==data.id && routeToDetail}">
               <ng-container *ngIf="routeToDetail">
                <td (click)="createQueryParems(data.id)" class="cursor-pointer">
                  <div class=" mb-3 fs-6 fw-semibold ">{{data?.reference_no}}</div>
                  <div>
                    <span class="link fw-medium " >{{data.salary_year_month}}</span>
                    <span class="detail-date"> {{data.date}}</span>
                  </div>
                </td>
                <td (click)="createQueryParems(data.id)" class="cursor-pointer">
                  <div class=" mb-3 fs-6 fw-semibold text-end">{{currency_type.symbol}} {{data.total_paid | numberFormat}}</div>
                  <div class=" text-end">
                    {{data.allowance_year_month}}
                  </div>
  
                </td>
              </ng-container>
               <ng-container *ngIf="!routeToDetail">
                <td>{{data.date}}</td>
                <td>{{data?.reference_no ?data?.reference_no:'-'}}
                </td>
                <td>{{data.salary_year_month || '-'}}
                </td>
                <td>{{data?.allowance_year_month || '-'}}</td>
                <td class="custom-link " (click)="createQueryParems(data.id)">{{data.employees}}</td>
                <td>{{data.total_paid | numberFormat}}</td>
                <td class="icon-box  tabIndexActive">
                  <div class="d-flex justify-content-center align-items-center">
                    <div class="position-relative">
                      <i class="material-icons more-icon" (click)="optionsList(data.id)"
                        *ngxPermissionsOnly="[employeePermission[1],employeePermission[2]]">more_vert</i>
                      <ul class="more-actions__menu table-popup" [ngClass]="{show: showOptions === data.id}">
                        <li class="more-actions__item" *ngxPermissionsOnly="employeePermission[1]"
                        (click)="edit(data.id)"><i
                            class="material-icons">edit</i>Edit</li>
                              <li *ngxPermissionsOnly="employeePermission[2]" class="more-actions__item"
                                (click)="popupFunction(data.id, i)"><i class="material-icons">delete</i>Delete</li>
                      </ul>
                    </div>
                  </div>
                </td>
              </ng-container>
            </tr>
          </tbody>
        </table>
      </div>
  
      <div class="col-lg-8 p-0  pdf-viewer">
      <app-details-employee-salary *ngIf="routeToDetail"  [routeToDetail]="routeToDetail"
      (openDetailsEmitter)="openListDetailsData($event)" [employeeSalaryId]="employeeSalaryId"></app-details-employee-salary>
      </div>
  
    </div>

  
  
  
  <alert-popup [inputData]="popupInputData" (outputData)="confirmButton($event)"></alert-popup>
  
  <app-go-through [goThroughDetais]="goThroughDetais"></app-go-through>
