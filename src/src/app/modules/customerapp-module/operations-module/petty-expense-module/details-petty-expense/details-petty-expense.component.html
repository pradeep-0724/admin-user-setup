<div class="right-section__header   py-2 px-md-3 px-1 mb-0 justify-content-between" *ngIf="expenseData">
  <h1 class="heading col-8">PETTY EXPENSE DETAILS</h1>
  <div class="header-actions mt-0 ms-auto">
      <button class="btn--action"  *ngxPermissionsOnly="pettyPermissin[1]"  [routerLink]="[prefixUrl+'/expense/petty-expense/edit/', expenseData.id]">
          <i class="material-icons">edit</i>
      </button>
      <button class="btn--action mg-left-10 " (click)="openDetails()" *ngIf="routeToDetail"><i class="material-icons">close</i></button>

  </div>
</div>

<div class="invoice-list-view">
  <div class="form-layout w-100" id="content" #content *ngIf="expenseData">
    <div class="table-wrapper table--nobg">
        <table class="table-container bill">
            <thead>
                <tr class="py-1">
                    <th colspan="3" class="text-uppercase text-center bill__title">PETTY  <span
                            class="title_to_change">EXPENSE</span></th>
                </tr>
            </thead>
            <tbody>
                <!-- Top details -->
              <tr>
                <td>
                    <div class="bill-info-wrap">
                        <span class="bill-info-label">Date Of Purchase: </span>
                        <span class="bill-info-value">{{changeDatetoNormalFormat(expenseData?.bill_date)}}</span>
                </div>
                </td>
                <td>
                    <div class="pd-top-0">
                        <span class="company-email">Employee In Charge: </span>
                        <span class="bill-info-value">{{expenseData?.employee ? expenseData?.employee?.display_name : '-'}} </span>
                    </div>
                </td>
            </tr>


       <!-- Item expense Details -->
      <tr *ngIf="itemExpensesData.length >0" class="border-top-0">
        <td colspan="3">
            <div class="table-wrapper table--nobg table--bd">
                <table class="table-container">
                    <thead>
                        <tr>
                            <th colspan="9" class="text-capitalize text-center w-100 bill__item-head">
                                Material Detail
                            </th>
                        </tr>
                        <tr>
                            <th>Material</th>
                            <th>Expense Account</th>
                            <th>Quantity</th>
                            <th>Unit Cost ({{ currency_type?.symbol}})</th>
                            <th>Total ({{ currency_type?.symbol}})</th>
                            <th>Description</th>

                        </tr>
                    </thead>
                    <tbody>
                        <tr *ngFor="let other of itemExpensesData; let i=index;">
                           <td>
                             {{other?.item ? other?.item?.name : '-'}}
                             <p *ngIf="other?.hsn_code" class="table-sub-item">(HSN :{{other?.hsn_code ? other?.hsn_code : '-'}})</p>
                           </td>
                            <td>
                                <p class="table-item">{{ other?.expense_account ? other?.expense_account?.name  :'-' }}</p>
                            </td>
                            <td class="table-item">{{ other?.quantity ? other?.quantity : 0 }}</td>
                            <td class="table-item rupee-symbol rupee-symbol--sm">
                              {{ other?.unit_cost | numberFormat }}
                            </td>

                            <td class="rupee-symbol rupee-symbol--sm">
                               {{ other?.total | numberFormat}}
                            </td>
                            <td>{{other?.description ? other?.description : '-'}}</td>
                        </tr>

                    </tbody>
                </table>
            </div>
        </td>
    </tr>


       <!-- Bottom and total Calculations section -->
      <tr class="border-top-0">
        <td colspan="2" width=50% class="pb-0">
          <div class="table-wrapper table--nobg">
              <table class="table-container">
                  <tbody>
                      <tr class="border-top-0">
                          <td width=25%></td>
                          <td width=25%></td>
                          <td width=25% class=" text-end bill-item p-0">
                              Subtotal
                              :</td>
                          <td width=25%
                              class="rupee-symbol rupee-symbol--sm p-0  text-end bill-value">
                              {{ currency_type?.symbol}} {{expenseData.subtotal_expense | numberFormat }}
                          </td>
                      </tr>
                      <tr class="border-top-0">
                          <td width=25%></td>
                          <td width=25%></td>
                          <td width=25% class=" text-end bill-item p-0">
                              Discount Amount:
                          </td>
                          <td width=25%
                              class="rupee-symbol rupee-symbol--sm p-0  text-end bill-value">
                              {{ currency_type?.symbol}} {{expenseData.discount_amount | numberFormat}}
                          </td>
                      </tr>
                      <tr class="border-top-0">
                        <td width=25%></td>
                        <td width=25%></td>
                        <td width=25% class=" text-end bill-item p-0">
                            Adjustment Amount:
                        </td>
                        <td width=25%
                            class="rupee-symbol rupee-symbol--sm p-0  text-end bill-value">
                            {{ currency_type?.symbol}} {{expenseData.adjustment_amount | numberFormat}}
                        </td>
                    </tr>
                      <tr class="border-top-0">
                          <td colspan="2" class="pt-0"></td>
                          <td colspan="2" class="pt-0 bd-bottom"></td>
                      </tr>
                      <tr class="border-top-0">
                          <td width=25%></td>
                          <td width=25%></td>
                          <td width=25% class=" text-end bill-item">
                              Total:
                          </td>
                          <td width=25%
                              class="rupee-symbol rupee-symbol--sm px-0  text-end bill-value">
                              {{ currency_type?.symbol}} {{expenseData?.total | numberFormat}}
                          </td>
                      </tr>



                  </tbody>
              </table>
          </div>
      </td>
      </tr>

      <!-- Bottom section  deatils -->
      <tr  class="border-top-0">
        <td  colspan="3">
            <div class="consignment-table-wrapper">
                <table class="table-container">
                    <tbody>
                        <tr>

                            <td>Payment Mode: <span class="bill-info-value">{{ expenseData?.payment_mode ? expenseData?.payment_mode?.name : '-' }}</span>
                            </td>
                            <td>Transaction Date: <span class="bill-info-value">{{ changeDatetoNormalFormat(expenseData?.transaction_date ) }} </span>
                            </td>
                            <td>Banking Charges: <span class="rupee-symbol rupee-symbol--sm bill-info-value">{{ currency_type?.symbol}} {{ expenseData?.bank_charges | numberFormat }}</span>
                            </td>
                        </tr>
                        <tr *ngIf="expenseData?.comments">
                            <td colspan="3">Optional Comments: <span class="bill-info-value">{{ expenseData?.comments }}</span></td>
                        </tr>

                    </tbody>
                </table>
            </div>
        </td>
      </tr>

            </tbody>
            </table>
        </div>
    </div>
</div>
