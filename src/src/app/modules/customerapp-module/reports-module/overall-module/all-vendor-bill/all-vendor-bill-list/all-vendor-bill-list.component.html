<div class="calc-height">
  <app-list-widget [isFilter]="true" [isExport]="true" [isDateRangeText]="true" [isDateDropDown]="true" [isDateRange]="false" listTitle="All Vendor Bills"[isSearch]='false' [filterUrl]="filterUrl" [subtractDays]="30" [end_date]="end_date"
    (listWidgetData)="listWidgetData($event)"(exportList)="exportList($event)" >
  </app-list-widget>
  <div class="alert-msg" *ngIf="apiError">
    <span class="icon-wrap"></span>
    <p class="message-cont">{{ apiError }}</p>
  </div>
</div>


  <div class="row mx-0">

    <div class="custom-table-container bg-white  vendor-bill-list-wrap  p-0"
      (scroll)="onScroll($event)" id="vendor-bill-table">
      <table [ngClass]="{'h-100':refundData.length==0}">

        <thead>
          <tr>
            <th>Bill Date</th>
            <th>Bill No.</th>
            <th>Vendor</th>
            <th>Bill Amount ({{currency_type.symbol}})</th>
            <th>Module </th>
            <th>Due Amount ({{currency_type.symbol}})</th>
            <th >Payment Status</th>
          </tr>
        </thead>
        <tbody *ngIf="refundData.length == 0">
          <tr class="border-0">
            <td class="bg-white" colspan="30">
              <div class="no-list-data-wrap">
                <figure>
                  <img src="assets/img/no-content.png" alt="">
                </figure>
                <h5 class="mt-3 primary-brand-text">No data found!</h5>
              </div>
            </td>
          </tr>

        </tbody>

        <tbody>
          <tr *ngFor="let data of refundData" >

          <ng-container >
              <td>{{data.date}}</td>
              <td>
                <span *ngIf="!data.bill_no">-</span>
                <ng-container *ngIf="data.bill_no">
                  <a *ngIf="data?.category=='Fuel'" target="_blank" class="custom-link"
                  [routerLink]="[prefixUrl+'/expense/fuel_expense/list/']" [queryParams]="{ pdfViewId: data?.id }">{{ data?.bill_no}}</a>
                  <a *ngIf="data?.category=='Jobs'" target="_blank" class="custom-link"
                  [routerLink]="[prefixUrl+'/trip/trip-expense/list/']" [queryParams]="{ pdfViewId: data?.id }">{{ data?.bill_no}}</a>
                  <a *ngIf="data?.category=='Other Bills'" target="_blank" class="custom-link"
                  [routerLink]="[prefixUrl+'/expense/others_expense/list/']" [queryParams]="{ pdfViewId: data?.id }">{{ data?.bill_no}}</a>
                  <a *ngIf="data?.category=='Vehicle Payment'" target="_blank" class="custom-link"
                  [routerLink]="[prefixUrl+'/trip/vehicle-payment/view/'+data?.id]" >{{ data?.bill_no}}</a>
                  <a *ngIf="data?.category=='Maintenance'" target="_blank" class="custom-link"
                  [routerLink]="[prefixUrl+'/expense/maintenance/view/'+data?.id]" >{{ data?.bill_no}}</a>
                  
                </ng-container>
              </td>

              <td class="td-2l"><div class="text-2l">
                <a target="_blank" class="custom-link " *ngIf="data?.vender?.id" [routerLink]="[prefixUrl+'/onboarding/party/details/vendor/'+data.vender.id]">{{ data?.vender?.name}}</a>
                <span *ngIf="!data?.vender?.id">-</span>
              </div></td>
              <td>{{data?.bill_amount }}</td>
              <td>{{ data?.category || '-' }}</td>
              <td>{{data?.due_amount }}</td>
              <td>{{data?.status }}</td>
             
              
          </ng-container>
          </tr>
        </tbody>
      </table>
    </div>

    

  </div>