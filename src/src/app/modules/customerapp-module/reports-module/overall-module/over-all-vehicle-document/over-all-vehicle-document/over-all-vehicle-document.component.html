<div style="overflow: hidden; min-height: calc(100vh - 103px );" class="layout-bg">
    <app-list-widget [isFilter]="true"  listTitle="Vehicle Document" [isDateRangeText]="true" [isDateRange]="false"
    [isDropDown]="true" [isDropDown]="false"  [isDateDropDown]="true" (listWidgetData)="listWidgetData($event)" [filterUrl]="filterUrl">
    <div id="custom-button">
        <button class="document px-3   rounded-pill fw-semibold" (click)="lastWeekReports()">
            <span class="material-icons fs-6 me-2">
                description
            </span> {{critical_count}} Document
        </button> 
    </div>
    <button class="btn btn--primary w-auto ms-2 py-2" id="custom-button-right" (click)="openAddVehDocumentPopUp()">+ &nbsp;Add</button>
  </app-list-widget>

    <div class="col-12 p-0">
        <div class="custom-table-container" id="vehicle-document-reports"  (scroll)="scrollEvent()">
            <table [ngClass]="{'h-100':reports.length===0}">

                <thead >
                    <tr >
                        <th>
                            VEHICLE NO.
                        </th>
                        <th>
                            DOCUMENT NAME </th>
                        <th>
                            DOCUMENT NO.
                        </th>
                        <th>
                            EXPIRY DATE
                        </th>
                        <th>
                            EXPIRY DAYS TO GO
                        </th>
                        <th>TOATL AMOUNT  ({{ currency_type?.symbol}})</th>
                        <th class="button-box"></th>
                    </tr>
                </thead>
                <tbody  *ngIf="reports.length===0" >
                    <tr class="border-0">
                        <td class="bg-white" colspan="30">
                            <div class="no-list-data-wrap">
                                <figure>
                                    <img src="assets/img/no-content.png" alt="">
                                </figure>
                                <h5 class="mt-3 primary-brand-text">No data found!</h5>
                            </div>
                        </td>
                    </tr>

                </tbody>

                <tbody>
                    <tr *ngFor="let report of reports;let i=index" >
                        <td *ngIf="report?.vehicle?.id && !report?.vehicle.is_market">
                            <a class="custom-link"  target="_blank" [routerLink]="[prefixUrl+'/onboarding/vehicle/own/details',report?.vehicle.id]" > {{report?.vehicle?.reg_no}} </a>
                           </td>
                           <td *ngIf="report?.vehicle.is_market || report?.vehicle.is_market==null ">{{report?.vehicle?.reg_no ? report?.vehicle?.reg_no : '-'}}</td>
                        <td>
                            {{report.name}}
                        </td>
                        <td>
                            {{report.number}}
                        </td>
                        <td>
                            {{report.expiry_date}}
                        </td>
                        <td  [ngStyle]="getStyle(report?.expiry_days?.color)">
                            {{report.expiry_days.name}}
                        </td>
                        <td>{{report.amount | numberFormat}}</td>
                        <td class="button-box">
                            <div *ngIf="report.expiry_date && !report?.vehicle.is_market" class="justify-content-center align-items-center d-flex"><button
                                    class="renew-btn" (click)="renewDocuments(report)">Renew</button></div>
                        </td>

                    </tr>
                </tbody>
            </table>
        </div>
    </div>
</div>

<app-renew-document-popup *ngIf="popUpRenewDocuments?.show" [popUpRenewDocuments]="popUpRenewDocuments"
    (dataFromRenewalDoc)="dataFromRenewalDoc($event)" [isMarketVehicle]="false">
</app-renew-document-popup>